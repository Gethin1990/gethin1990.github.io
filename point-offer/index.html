<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>剑指Offer（python） - Gethin</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://blog.gethin.online/point-offer/">
<meta property="og:site_name" content="Gethin"><meta property="og:title" content="剑指Offer（python）"><meta property="og:description" content="数组与矩阵 数组中重复的数字 class Solution: def findRepeatNumber(self, nums: List[int]) -> int: dic ={} for num in nums: if num not in dic: dic[num] = True else: return num 二维数组中的查找 class Solution: def findNumberIn2DArray(self, matrix: List[List[int]], target: int) -> bool: if not matrix or not matrix[0]:return False col = len(matrix)-1 row = len(matrix[0])-1 _i,_j = col, 0 while _i>=0 and _j<=row: if matrix[_i][_j]>target:_i-=1 elif matrix[_i][_j]<target:_j+=1 else: return True return False 替换空格 class Solution: def replaceSpace(self, s: str) -> str: ans =[] for c in s: if c == &#34; &#34;: ans.append('%20') else: ans.append(c) return &#34;&#34;.join(ans) 顺时针打印矩阵 class Solution: def spiralOrder(self, matrix:[[int]]) -> [int]: if not matrix: return [] l, r, t, b, res = 0, len(matrix[0]) - 1, 0, len(matrix) - 1, [] while True: for i in range(l, r + 1): res.append(matrix[t][i]) # left to right t += 1 if t > b: break for i in range(t, b + 1): res.append(matrix[i][r]) # top to bottom r -= 1 if l > r: break for i in range(r, l - 1, -1): res.append(matrix[b][i]) # right to left b -= 1 if t > b: break for i in range(b, t - 1, -1): res.append(matrix[i][l]) # bottom to top l += 1 if l > r: break return res 第一个只出现一次的字符位置 class Solution: def firstUniqChar(self, s: str) -> str: dic = {} for c in s: if c in dic: dic[c] = False else: dic[c] = True for c,v in dic.items(): if dic[c]:return c return &#34; &#34; 栈队列堆 用两个栈实现队列 class CQueue: def __init__(self): self.l1 = [] self.l2 = [] def appendTail(self, value: int) -> None: self.l1.append(value) def deleteHead(self) -> int: if self.l2: return self.l2.pop() if not self.l1: return -1 while self.l1: self.l2.append(self.l1.pop()) return self.l2.pop() 包含 min 函数的栈 class MinStack: def __init__(self): &#34;&#34;&#34; initialize your data structure here. &#34;&#34;&#34; self.stack = [] self.minstack = [] def push(self, x: int) -> None: self.stack.append(x) if not self.minstack or x<=self.minstack[-1]: self.minstack.append(x) def pop(self) -> None: if self.stack.pop() ==self.minstack[-1]: self.minstack.pop() def top(self) -> int: return self.stack[-1] def min(self) -> int: return self.minstack[-1] 栈的压入、弹出序列 class Solution: def validateStackSequences(self, pushed: List[int], popped: List[int]) -> bool: stack =[] _i =0 for num in pushed: stack.append(num) while stack and stack[-1]==popped[_i]:# 循环栈 stack.pop() _i+=1 return not stack 最小的 K 个数 class Solution: def getLeastNumbers(self, arr: List[int], k: int) -> List[int]: def sort(arr): if len(arr)<2: return arr else: pivot = arr[0] less = [i for i in arr[1:] if i<=pivot] more = [i for i in arr[1:] if i> pivot] return sort(less) +[pivot]+ sort(more) r =sort(arr) return r[:k] 41.1 数据流中的中位数 from heapq import * class MedianFinder: def __init__(self): self.A = [] # 小顶堆，保存较大的一半 self.B = [] # 大顶堆，保存较小的一半 def addNum(self, num: int) -> None: if len(self.A) != len(self.B): heappush(self.A, num) heappush(self.B, -heappop(self.A)) else: heappush(self.B, -num) heappush(self.A, -heappop(self.B)) def findMedian(self) -> float: return self.A[0] if len(self.A) != len(self.B) else (self.A[0] - self.B[0]) / 2.0 41.2 字符流中第一个不重复的字符 滑动窗口的最大值 class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]: deque = collections.deque() res, n = [], len(nums) for i, j in zip(range(1 - k, n + 1 - k), range(n)): # 删除 deque 中对应的 nums[i-1] if i > 0 and deque[0] == nums[i - 1]: deque.popleft() # 保持 deque 递减 while deque and deque[-1] < nums[j]: deque.pop() deque.append(nums[j]) # 记录窗口最大值 if i >= 0: res.append(deque[0]) return res 双指针 57.1 和为 S 的两个数字 class Solution: def twoSum(self, nums: List[int], target: int) -> List[int]: # 2 points _i,_j =0,len(nums)-1 # slide point _i,_j while _i<_j: s = nums[_i]+nums[_j] if s>target: _j-=1 elif s< target: _i+=1 else:return[nums[_i],nums[_j]] return [] 57.2 和为 S 的连续正数序列 class Solution: def findContinuousSequence(self, target: int) -> List[List[int]]: _i,_j,s = 1,2,3 ans = [] while _i<_j: if s ==target: #ans.append(list(range(i, j + 1))) ans.append([i for i in range(_i,_j+1)]) if s>=target: s-=_i _i+=1 else: _j+=1 s+=_j return ans 58.1 翻转单词顺序列 class Solution: def reverseWords(self, s: str) -> str: s = s.strip() # 删除首尾空格 _i=_j = len(s)-1 ans = [] # 退出条件 while _i>=0: # 添加单词 # 向左移动指针 while _i>=0 and s[_i]!=' ': _i-=1 ans.append(s[_i+1:_j+1]) # _i,_j 指针再次初始化 & 跳过 ' ' while s[_i] == ' ': _i-=1 _j =_i return &#34; &#34;.join(ans) # strs = s.split() # re_str = strs[::-1] # return &#34; &#34;.join(re_str) 58.2 左旋转字符串 class Solution: def reverseLeftWords(self, s: str, n: int) -> str: return s[n:]+s[:n] 链表 从尾到头打印链表 class Solution: def reversePrint(self, head: ListNode) -> List[int]: ans =[] def dfs(cur): if not cur: return dfs(cur.next) ans.append(cur.val) dfs(head) return ans 18.1 在 O(1) 时间内删除链表节点 class Solution: def deleteNode(self, head: ListNode, val: int) -> ListNode: def dfs(node): if not node: return node node.next = dfs(node.next) if node.val == val: return node.next return node return dfs(head) 18.2 删除链表中重复的结点 链表中倒数第 K 个结点 class Solution: def getKthFromEnd(self, head: ListNode, k: int) -> ListNode: i =0 def dfs(cur): if not cur: return cur o = dfs(cur.next) nonlocal i i+=1 # cur always regression, when k, return cur as o if i ==k: return cur return o return dfs(head) 链表中环的入口结点 反转链表 class Solution: def reverseList(self, head: ListNode) -> ListNode: def dfs(cur): if not cur or not cur.next: return cur o =dfs(cur.next) cur.next.next = cur cur.next = None return o return dfs(head) 合并两个排序的链表 class Solution: def mergeTwoLists(self, l1: ListNode, l2: ListNode) -> ListNode: # if l1 is null return l2 if not l1: return l2 if not l2: return l1 # ex. 1,2,3 | 1,3,4 # recurrence (push) if l1.val <= l2.val: o = self.mergeTwoLists(l1.next,l2) #regression (pop) l1.next = o(if l1 is none:l2) l1.next = o return l1 else: o = self.mergeTwoLists(l1,l2.next) l2.next = o return l2 复杂链表的复制 class Solution: def copyRandomList(self, head: 'Node') -> 'Node': # use dic to build and copy linklist if not head: return None dic ={} _cur = head while _cur: dic[_cur] = Node(_cur.val) _cur = _cur.next _cur = head while _cur: dic[_cur].next = dic.get(_cur.next) dic[_cur].random = dic.get(_cur.random) _cur = _cur.next return dic[head] 两个链表的第一个公共结点 class Solution: def getIntersectionNode(self, headA: ListNode, headB: ListNode) -> ListNode: A,B = headA,headB while A!=B: A = A.next if A else headB B = B.next if B else headA return A 树 重建二叉树 class Solution: def buildTree(self, preorder: List[int], inorder: List[int]) -> TreeNode: # 0 if len(preorder)==0 or len(inorder)==0: return None # 1 build root r_val = preorder[0] root = TreeNode(r_val) # find index idx = inorder.index(r_val) # build left & right based on b-tree attribute root.left = self.buildTree(preorder[1:1+idx],inorder[:idx]) root.right = self.buildTree(preorder[1+idx:],inorder[idx+1:]) return root 二叉树的下一个结点 树的子结构 class Solution: def isSubStructure(self, A: TreeNode, B: TreeNode) -> bool: if not A or not B:return False def dfs(A,B): if not B:return True if not A:return False o_l = dfs(A.left,B.left) o_r = dfs(A.right,B.right) return A.val==B.val and o_l and o_r return dfs(A,B) or self.isSubStructure(A.left,B) or self.isSubStructure(A.right,B) 二叉树的镜像 class Solution: def mirrorTree(self, root: TreeNode) -> TreeNode: def dfs(node): if node is None: return node o_l =dfs(node.left) o_r =dfs(node.right) node.left = o_r node.right = o_l return node return dfs(root) 对称的二叉树 class Solution: def isSymmetric(self, root: TreeNode) -> bool: def dfs(left,right): if left is None and right is None: # 1. return True if left is None or right is None or left.val != right.val: return False return dfs(left.left, right.right) and dfs(left.right, right.left) return dfs(root.left, root.right) if root else True 32.1 从上往下打印二叉树 class Solution: def levelOrder(self, root: TreeNode) -> List[int]: if not root:return [] q,ans = [root],[] while q: node = q.pop(0) ans.append(node.val) if node.left: q.append(node.left) if node.right: q.append(node.right) return ans 32.2 把二叉树打印成多行 class Solution: def levelOrder(self, root: TreeNode) -> List[List[int]]: if not root:return [] q =[root] ans =[] while q: tmp =[] for _ in range(len(q)): node = q.pop(0) tmp.append(node.val) if node.left:q.append(node.left) if node.right:q.append(node.right) ans.append(tmp) return ans 32.3 按之字形顺序打印二叉树 class Solution: def levelOrder(self, root: TreeNode) -> List[List[int]]: if not root:return[] i,q,ans = 0,[root],[] while q: tmp = [] i+=1 for _ in range(len(q)): node = q.pop(0) tmp.append(node.val) if node.left: q.append(node.left) if node.right: q.append(node.right) if i%2 ==0: ans.append(list(reversed(tmp))) else:ans.append(tmp) return ans 二叉搜索树的后序遍历序列 class Solution: def verifyPostorder(self, postorder: List[int]) -> bool: # root right left 单调栈 stack,root=[],float('inf') #二叉搜索树: root<right & root>left for num in reversed(postorder): if root < num: return False while stack and stack[-1]>num: root = stack.pop() # root stack.append(num) return True 二叉树中和为某一值的路径 class Solution: def pathSum(self, root: TreeNode, target: int) -> List[List[int]]: # def res,path res = [] path =[] # 1.root left right def dfs(cur,tar): if not cur:return path.append(cur.val) tar -= cur.val if tar == 0 and not cur.left and not cur.right: res.append(list(path)) dfs(cur.left,tar) dfs(cur.right,tar) path.pop() dfs(root,target) return res 二叉搜索树与双向链表 class Solution: def treeToDoublyList(self, root: 'Node') -> 'Node': if not root:return def dfs(cur): if not cur: return dfs(cur.left) if not self.pre: self.head = cur # head else: self.pre.right =cur cur.left = self.pre self.pre = cur dfs(cur.right) self.pre = None self.head = None dfs(root) self.head.left = self.pre self.pre.right = self.head return self.head 序列化二叉树 class Codec: def serialize(self, root): if not root: return &#34;[]&#34; queue = collections.deque() queue.append(root) res = [] while queue: node = queue.popleft() if node: res.append(str(node.val)) queue.append(node.left) queue.append(node.right) else: res.append(&#34;null&#34;) return '[' + ','.join(res) + ']' def deserialize(self, data): if data == &#34;[]&#34;: return vals, i = data[1:-1].split(','), 1 root = TreeNode(int(vals[0])) queue = collections.deque() queue.append(root) while queue: node = queue.popleft() if vals[i] != &#34;null&#34;: node.left = TreeNode(int(vals[i])) queue.append(node.left) i += 1 if vals[i] != &#34;null&#34;: node.right = TreeNode(int(vals[i])) queue.append(node.right) i += 1 return root 二叉查找树的第 K 个结点 class Solution: def kthLargest(self, root: TreeNode, k: int) -> int: i,r= 0,0 def dfs(node): if node is None: return dfs(node.right) nonlocal i nonlocal r i+=1 if i ==k: r = node.val dfs(node.left) dfs(root) return r 55.1 二叉树的深度 class Solution: def maxDepth(self, root: TreeNode) -> int: def dfs(node): if node is None: return 0 # deep o_l =dfs(node.left) o_r =dfs(node.right) deep = max(o_l,o_r)+1 return deep return dfs(root) 55.2 平衡二叉树 class Solution: def isBalanced(self, root: TreeNode) -> bool: def dfs(node): if node is None: return 0 # value==-1 return -1 o_l = dfs(node.left) if o_l == -1:return -1 o_r = dfs(node.right) if o_r ==-1:return -1 result = max(o_l,o_r)+1 if abs(o_l - o_r)<=1 else -1 return result r =dfs(root) return r!=-1 树中两个节点的最低公共祖先 class Solution: def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -> 'TreeNode': def dfs(node,p,q): if node.val > p.val and node.val > q.val: return dfs(node.left, p, q) if node.val < p.val and node.val < q.val: return dfs(node.right, p, q) return node return dfs(root,p,q) 贪心思想 剪绳子 class Solution: def cuttingRope(self, n: int) -> int: dp =[0]*(n+1) max_tmp =0 dp[2] =1 for i in range(2,n+1): for j in range(1,i): max_tmp = max((i-j)*j,dp[i-j]*j) dp[i]=max(dp[i],max_tmp) return dp[-1] 股票的最大利润 class Solution: def maxProfit(self, prices: List[int]) -> int: min_profit = float('inf') max_profit = 0 for day_price in prices: min_profit = min(day_price,min_profit) max_profit = max(day_price-min_profit,max_profit) return max_profit 二分查找 旋转数组的最小数字 class Solution: def minArray(self, numbers: List[int]) -> int: l,r =0,len(numbers)-1 while l<=r: mid = (l+r)//2 if numbers[mid]>numbers[r]: l=mid+1 elif numbers[mid]<numbers[r]: r =mid else: r-=1 return numbers[l] 数字在排序数组中出现的次数 class Solution: def search(self, nums: List[int], target: int) -> int: def find_r(nums,target)->int: _l,_r = 0,len(nums)-1 while _l<=_r: m = (_l+_r)//2 if nums[m] <= target: _l = m+1 else: _r = m-1 return _l r = find_r(nums,target) r_pre = find_r(nums,target-1) return r - r_pre 分治 数值的整数次方 class Solution: def myPow(self, x: float, n: int) -> float: if n == 0: return 1 elif n < 0: # 1/x^{-n} return 1/self.myPow(x, -n) elif n & 1: # odd: x∗x^(n−1) return x * self.myPow(x, n - 1) else: # even x^2*(n/2) return self.myPow(x*x, n // 2) 搜索 矩阵中的路径 class Solution: def exist(self, board: List[List[str]], word: str) -> bool: # S0:check None if not board or not board[0]:return False row =len(board) col = len(board[0]) # S1:def dfs and backtracking def dfs(_i,_j,k): if not (0<=_i<row) or not (0<=_j<col) or board[_i][_j]!=word[k]: return False # S2: True condition if k == len(word)-1:return True # S1 board[_i][_j] ='' res = dfs(_i + 1, _j, k + 1) or dfs(_i - 1, _j, k + 1) or dfs(_i, _j + 1, k + 1) or dfs(_i, _j - 1, k + 1) # S1 board[_i][_j]=word[k] return res # S4 for to call dfs for _i in range(row): for _j in range(col): if dfs(_i,_j,0):return True return False 机器人的运动范围 class Solution: def movingCount(self, m: int, n: int, k: int) -> int: visited = [[False]*n for _ in range(m)] self.res = 0 def dfs(i, j): if not (0<=i<m) or not (0<=j<n) or visited[i][j] or (i//10+i%10+j//10+j%10>k): return visited[i][j] = True self.res += 1 dfs(i+1, j) dfs(i-1, j) dfs(i, j+1) dfs(i, j-1) #visited[i][j] = False dfs(0, 0) return self.res 字符串的排列 class Solution: def permutation(self, s: str) -> List[str]: c, res = list(s), [] def dfs(x): if x == len(c) - 1: res.append(''.join(c)) # 添加排列方案 return dic = set() for i in range(x, len(c)): if c[i] in dic: continue # 重复，因此剪枝 dic.add(c[i]) c[i], c[x] = c[x], c[i] # 交换，将 c[i] 固定在第 x 位 dfs(x + 1) # 开启固定第 x + 1 位字符 c[i], c[x] = c[x], c[i] # 恢复交换 dfs(0) return res 排序 调整数组顺序使奇数位于偶数前面 class Solution: def exchange(self, nums: List[int]) -> List[int]: #2 points _i,_j = 0,len(nums)-1 while _i<_j: #_i+=1 while _i<_j and nums[_i]%2 == 1:_i+=1 #_j-=1 while _i<_j and nums[_j]%2 == 0:_j-=1 #swap nums[_i],nums[_j] = nums[_j],nums[_i] return nums 把数组排成最小的数 class Solution: def minNumber(self, nums: List[int]) -> str: def quick_sort(l , r): if l >= r: return # left & right point i, j = l, r while i < j: while strs[j] + strs[l] >= strs[l] + strs[j] and i < j: j -= 1 while strs[i] + strs[l] <= strs[l] + strs[i] and i < j: i += 1 strs[i], strs[j] = strs[j], strs[i] strs[i], strs[l] = strs[l], strs[i] quick_sort(l, i - 1) quick_sort(i + 1, r) strs = [str(num) for num in nums] quick_sort(0, len(strs) - 1) return ''.join(strs) 数组中的逆序对 class Solution: def reversePairs(self, nums: List[int]) -> int: def merge_sort(l, r): # 终止条件 if l >= r: return 0 # 递归划分 m = (l + r) // 2 res = merge_sort(l, m) + merge_sort(m + 1, r) # 合并阶段 i, j = l, m + 1 tmp[l:r + 1] = nums[l:r + 1] for k in range(l, r + 1): if i == m + 1: nums[k] = tmp[j] j += 1 elif j == r + 1 or tmp[i] <= tmp[j]: nums[k] = tmp[i] i += 1 else: nums[k] = tmp[j] j += 1 res += m - i + 1 # 统计逆序对 return res tmp = [0] * len(nums) return merge_sort(0, len(nums) - 1) 动态规划 10.1 斐波那契数列 class Solution: def fib(self, n: int) -> int: #S0: if n==0:return 0 if n==1:return 1 #S1: Def dp is line or matrix and identify parameter #S3: Init dp dp = [0] * (n+1) dp[0]=0 dp[1]=1 # S4: Decide loop wany for _i in range(2,n+1): # S2: Recurrence Formula dp[_i] = dp[_i-1]+dp[_i-2] return dp[-1] % 1000000007 10.2 矩形覆盖 10.3 跳台阶 class Solution: def numWays(self, n: int) -> int: dp = [1,1] # 1,1,2,3,5 for i in range(2,n+1): dp.append(dp[i-1]+dp[i-2]) return dp[-1] % 1000000007 10.4 变态跳台阶 连续子数组的最大和 class Solution: def maxSubArray(self, nums: List[int]) -> int: # use dp # 1.def dp and def n means n = len(nums) # 3.init dp dp = [0] * n # 4.decide loop for _i in range(n): # 2.Recurrence Formula if dp[_i-1]>0: dp[_i] = dp[_i-1]+nums[_i] else:dp[_i] = nums[_i] # 5.decide return return max(dp) 礼物的最大价值 class Solution: def maxValue(self, grid: list[list[int]]) -> int: # DP if not grid or not grid[0]:return 0 #print(grid) # 1.def dp row = len(grid) col = len(grid[0]) dp=[[0]*col for _ in range(row)] # 3.init dp dp[0][0] =grid[0][0] for _i in range(1,row): dp[_i][0] = dp[_i-1][0]+grid[_i][0] for _j in range(1,col): dp[0][_j] = dp[0][_j-1]+grid[0][_j] #print(dp) # 4.decide loop for _i in range(1,row): for _j in range(1,col): # 2.recurrence formula dp[_i][_j] = max(dp[_i-1][_j]+grid[_i][_j],dp[_i][_j-1]+grid[_i][_j]) #print(dp) # 5. decide return return dp[-1][-1] 最长不含重复字符的子字符串 class Solution: def lengthOfLongestSubstring(self, s: str) -> int: if not s:return 0 dic ={} #1.def dp [] and i means ans = 1 n = len(s) dp=[0]*n #3.init dp dp[0] = 1 dic[s[0]]=0 # init dic #4.def loop for _i in range(1,n): #2.recurrence formula if s[_i] not in dic: # char not repeat dp[_i] = dp[_i-1]+1 else: _repeat = dic[s[_i]] #char repeat then compare pre,cur interval cur_interval = _i-_repeat dp[_i] = dp[_i-1]+1 if cur_interval>dp[_i-1] else cur_interval dic[s[_i]] = _i ans =max(dp[_i],ans) # return return ans 丑数 class Solution: def nthUglyNumber(self, n: int) -> int: #1.def dp and i means #2.recurrence formula #3.init dp #4.decide loop dp = [1] * n _a, _b, _c = 0,0,0 for _i in range(1, n): n2, n3, n5 = dp[_a] * 2, dp[_b] * 3, dp[_c] * 5 # dp[i] = min(dp[a]*2,dp[b]*3,dp[c]*5) three points dp[_i] = min(n2, n3, n5) if dp[_i] == n2: _a += 1 if dp[_i] == n3: _b += 1 if dp[_i] == n5: _c += 1 return dp[-1] n 个骰子的点数 class Solution: def dicesProbability(self, n: int) -> List[float]: dp = [1 / 6] * 6 for i in range(2, n + 1): tmp = [0] * (5 * i + 1) for j in range(len(dp)): for k in range(6): tmp[j + k] += dp[j] / 6 dp = tmp return dp 构建乘积数组 class Solution: def constructArr(self, a: List[int]) -> List[int]: # def varible n = len(a) res = [1] * n # loop tmp = 1 for _i in range(n): res[_i] = tmp tmp *= a[_i] #print(res) # reversed loop tmp =1 for _j in reversed(range(n)): res[_j] *= tmp tmp *= a[_j] #print(res) return res 数学 数组中出现次数超过一半的数字 class Solution: def majorityElement(self, nums: List[int]) -> int: n = len(nums)//2 if len(nums) ==1: return nums[0] dic = {} for num in nums: if num not in dic: dic[num]=1 else: if dic[num]>=n: return num else: dic[num] += 1 圆圈中最后剩下的数 class Solution: def lastRemaining(self, n: int, m: int) -> int: ans = 0 for i in range(2,n+1): ans = (ans+m) % i return ans 从 1 到 n 整数中 1 出现的次数 class Solution: def countDigitOne(self, n: int) -> int: digit, res = 1, 0 high, cur, low = n // 10, n % 10, 0 while high != 0 or cur != 0: if cur == 0: res += high * digit elif cur == 1: res += high * digit + low + 1 else: res += (high + 1) * digit low += cur * digit cur = high % 10 high //= 10 digit *= 10 return res 位运算 二进制中 1 的个数 class Solution: def hammingWeight(self, n: int) -> int: res =0 while n: res+= n&amp;1 n>>=1 return res 数组中只出现一次的数字 class Solution: def singleNumbers(self, nums: List[int]) -> List[int]: dic,ans = {},[] for num in nums: if num not in dic: dic[num] =True else: dic[num] = False for k,v in dic.items(): if v: ans.append(k) return ans 其它 打印从 1 到最大的 n 位数 class Solution: def printNumbers(self, n: int) -> List[int]: res =[] for i in range(1,10**n): res.append(i) return res 正则表达式匹配 class Solution: def isMatch(self, s: str, p: str) -> bool: m, n = len(s) + 1, len(p) + 1 dp = [[False] * n for _ in range(m)] dp[0][0] = True # 初始化首行 for j in range(2, n, 2): dp[0][j] = dp[0][j - 2] and p[j - 1] == '*' # 状态转移 for i in range(1, m): for j in range(1, n): if p[j - 1] == '*': if dp[i][j - 2]: dp[i][j] = True # 1. elif dp[i - 1][j] and s[i - 1] == p[j - 2]: dp[i][j] = True # 2. elif dp[i - 1][j] and p[j - 2] == '.': dp[i][j] = True # 3. else: if dp[i - 1][j - 1] and s[i - 1] == p[j - 1]: dp[i][j] = True # 1. elif dp[i - 1][j - 1] and p[j - 1] == '.': dp[i][j] = True # 2. return dp[-1][-1] 表示数值的字符串 class Solution: def isNumber(self, s: str) -> bool: states = [ { ' ': 0, 's': 1, 'd': 2, '.': 4 }, # 0. start with 'blank' { 'd': 2, '.': 4 } , # 1. 'sign' before 'e' { 'd': 2, '.': 3, 'e': 5, ' ': 8 }, # 2. 'digit' before 'dot' { 'd': 3, 'e': 5, ' ': 8 }, # 3. 'digit' after 'dot' { 'd': 3 }, # 4. 'digit' after 'dot' (‘blank’ before 'dot') { 's': 6, 'd': 7 }, # 5. 'e' { 'd': 7 }, # 6. 'sign' after 'e' { 'd': 7, ' ': 8 }, # 7. 'digit' after 'e' { ' ': 8 } # 8. end with 'blank' ] p = 0 # start with state 0 for c in s: if '0' <= c <= '9': t = 'd' # digit elif c in &#34;+-&#34;: t = 's' # sign elif c in &#34;eE&#34;: t = 'e' # e or E elif c in &#34;. &#34;: t = c # dot, blank else: t = '?' # unknown if t not in states[p]: return False p = states[p][t] return p in (2, 3, 7, 8) 数字序列中的某一位数字 class Solution: def findNthDigit(self, n: int) -> int: digit, start, count = 1, 1, 9 while n > count: # 1. n -= count start *= 10 digit += 1 count = 9 * start * digit num = start + (n - 1) // digit # 2. return int(str(num)[(n - 1) % digit]) # 3. 把数字翻译成字符串 class Solution: def translateNum(self, num: int) -> int: s = str(num) # 1.def dp n = len(s) if n<2:return n dp =[0]*(n+1) # 3.init dp dp[0] = 1 dp[1] =1 # 4.decide loop for _i in range(2,n+1): # 2.recurrence formula if '10'<=s[_i-2:_i]<='25': dp[_i] = dp[_i-1]+dp[_i-2] else: dp[_i] =dp[_i-1] # 5.return return dp[-1] 扑克牌顺子 class Solution: def isStraight(self, nums: List[int]) -> bool: repeat = set() ma, mi = 0, 14 for num in nums: if num == 0: continue # 跳过大小王 ma = max(ma, num) # 最大牌 mi = min(mi, num) # 最小牌 if num in repeat: return False # 若有重复，提前返回 false repeat.add(num) # 添加牌至 Set return ma - mi < 5 # 最大牌 - 最小牌 < 5 则可构成顺子 求 1+2+3+…+n class Solution: # recurion def sumNums(self, n: int) -> int: # sum = 0 sum_n= 0 def rcur(n): if n==0: return 0 r = rcur(n-1) # regression nonlocal sum_n sum_n+=r return n rcur(n) # add n sum_n=sum_n+n return sum_n 不用加减乘除做加法 class Solution: def add(self, a: int, b: int) -> int: x = 0xffffffff a, b = a & x, b & x while b != 0: a, b = (a ^ b), (a & b) << 1 & x return a if a <= 0x7fffffff else ~(a ^ x) 把字符串转换成整数 class Solution: def strToInt(self, str: str) -> int: int_max, int_min = 2**31 - 1, -2**31 str = str.strip() if not str: return 0 state = [ {'s':1, 'd':2, 't':3}, #0起始状态 {'s':3, 'd':2, 't':3}, #1符号状态 {'s':3, 'd':2, 't':3}, #2数字状态 {'s':3, 'd':3, 't':3} #3终止状态 ] cur, res, flag = 0, 0, 1 for i in str: if i in '+-': c = 's' elif i.isdigit(): c = 'd' else: c = 't' cur = state[cur][c] if cur == 2: res = 10*res + ord(i) - ord('0') res = min(int_max, res) if flag == 1 else min(-int_min, res) elif cur == 1: flag = 1 if i == '+' else -1 return res*flag"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-06T16:22:27+08:00"><meta property="article:modified_time" content="2025-08-18T16:45:02+08:00"><meta property="article:tag" content="算法"><meta property="og:image" content="https://blog.gethin.online/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.gethin.online/logo.png"><meta name=twitter:title content="剑指Offer（python）"><meta name=twitter:description content="数组与矩阵 数组中重复的数字 class Solution: def findRepeatNumber(self, nums: List[int]) -> int: dic ={} for num in nums: if num not in dic: dic[num] = True else: return num 二维数组中的查找 class Solution: def findNumberIn2DArray(self, matrix: List[List[int]], target: int) -> bool: if not matrix or not matrix[0]:return False col = len(matrix)-1 row = len(matrix[0])-1 _i,_j = col, 0 while _i>=0 and _j<=row: if matrix[_i][_j]>target:_i-=1 elif matrix[_i][_j]<target:_j+=1 else: return True return False 替换空格 class Solution: def replaceSpace(self, s: str) -> str: ans =[] for c in s: if c == &#34; &#34;: ans.append('%20') else: ans.append(c) return &#34;&#34;.join(ans) 顺时针打印矩阵 class Solution: def spiralOrder(self, matrix:[[int]]) -> [int]: if not matrix: return [] l, r, t, b, res = 0, len(matrix[0]) - 1, 0, len(matrix) - 1, [] while True: for i in range(l, r + 1): res.append(matrix[t][i]) # left to right t += 1 if t > b: break for i in range(t, b + 1): res.append(matrix[i][r]) # top to bottom r -= 1 if l > r: break for i in range(r, l - 1, -1): res.append(matrix[b][i]) # right to left b -= 1 if t > b: break for i in range(b, t - 1, -1): res.append(matrix[i][l]) # bottom to top l += 1 if l > r: break return res 第一个只出现一次的字符位置 class Solution: def firstUniqChar(self, s: str) -> str: dic = {} for c in s: if c in dic: dic[c] = False else: dic[c] = True for c,v in dic.items(): if dic[c]:return c return &#34; &#34; 栈队列堆 用两个栈实现队列 class CQueue: def __init__(self): self.l1 = [] self.l2 = [] def appendTail(self, value: int) -> None: self.l1.append(value) def deleteHead(self) -> int: if self.l2: return self.l2.pop() if not self.l1: return -1 while self.l1: self.l2.append(self.l1.pop()) return self.l2.pop() 包含 min 函数的栈 class MinStack: def __init__(self): &#34;&#34;&#34; initialize your data structure here. &#34;&#34;&#34; self.stack = [] self.minstack = [] def push(self, x: int) -> None: self.stack.append(x) if not self.minstack or x<=self.minstack[-1]: self.minstack.append(x) def pop(self) -> None: if self.stack.pop() ==self.minstack[-1]: self.minstack.pop() def top(self) -> int: return self.stack[-1] def min(self) -> int: return self.minstack[-1] 栈的压入、弹出序列 class Solution: def validateStackSequences(self, pushed: List[int], popped: List[int]) -> bool: stack =[] _i =0 for num in pushed: stack.append(num) while stack and stack[-1]==popped[_i]:# 循环栈 stack.pop() _i+=1 return not stack 最小的 K 个数 class Solution: def getLeastNumbers(self, arr: List[int], k: int) -> List[int]: def sort(arr): if len(arr)<2: return arr else: pivot = arr[0] less = [i for i in arr[1:] if i<=pivot] more = [i for i in arr[1:] if i> pivot] return sort(less) +[pivot]+ sort(more) r =sort(arr) return r[:k] 41.1 数据流中的中位数 from heapq import * class MedianFinder: def __init__(self): self.A = [] # 小顶堆，保存较大的一半 self.B = [] # 大顶堆，保存较小的一半 def addNum(self, num: int) -> None: if len(self.A) != len(self.B): heappush(self.A, num) heappush(self.B, -heappop(self.A)) else: heappush(self.B, -num) heappush(self.A, -heappop(self.B)) def findMedian(self) -> float: return self.A[0] if len(self.A) != len(self.B) else (self.A[0] - self.B[0]) / 2.0 41.2 字符流中第一个不重复的字符 滑动窗口的最大值 class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]: deque = collections.deque() res, n = [], len(nums) for i, j in zip(range(1 - k, n + 1 - k), range(n)): # 删除 deque 中对应的 nums[i-1] if i > 0 and deque[0] == nums[i - 1]: deque.popleft() # 保持 deque 递减 while deque and deque[-1] < nums[j]: deque.pop() deque.append(nums[j]) # 记录窗口最大值 if i >= 0: res.append(deque[0]) return res 双指针 57.1 和为 S 的两个数字 class Solution: def twoSum(self, nums: List[int], target: int) -> List[int]: # 2 points _i,_j =0,len(nums)-1 # slide point _i,_j while _i<_j: s = nums[_i]+nums[_j] if s>target: _j-=1 elif s< target: _i+=1 else:return[nums[_i],nums[_j]] return [] 57.2 和为 S 的连续正数序列 class Solution: def findContinuousSequence(self, target: int) -> List[List[int]]: _i,_j,s = 1,2,3 ans = [] while _i<_j: if s ==target: #ans.append(list(range(i, j + 1))) ans.append([i for i in range(_i,_j+1)]) if s>=target: s-=_i _i+=1 else: _j+=1 s+=_j return ans 58.1 翻转单词顺序列 class Solution: def reverseWords(self, s: str) -> str: s = s.strip() # 删除首尾空格 _i=_j = len(s)-1 ans = [] # 退出条件 while _i>=0: # 添加单词 # 向左移动指针 while _i>=0 and s[_i]!=' ': _i-=1 ans.append(s[_i+1:_j+1]) # _i,_j 指针再次初始化 & 跳过 ' ' while s[_i] == ' ': _i-=1 _j =_i return &#34; &#34;.join(ans) # strs = s.split() # re_str = strs[::-1] # return &#34; &#34;.join(re_str) 58.2 左旋转字符串 class Solution: def reverseLeftWords(self, s: str, n: int) -> str: return s[n:]+s[:n] 链表 从尾到头打印链表 class Solution: def reversePrint(self, head: ListNode) -> List[int]: ans =[] def dfs(cur): if not cur: return dfs(cur.next) ans.append(cur.val) dfs(head) return ans 18.1 在 O(1) 时间内删除链表节点 class Solution: def deleteNode(self, head: ListNode, val: int) -> ListNode: def dfs(node): if not node: return node node.next = dfs(node.next) if node.val == val: return node.next return node return dfs(head) 18.2 删除链表中重复的结点 链表中倒数第 K 个结点 class Solution: def getKthFromEnd(self, head: ListNode, k: int) -> ListNode: i =0 def dfs(cur): if not cur: return cur o = dfs(cur.next) nonlocal i i+=1 # cur always regression, when k, return cur as o if i ==k: return cur return o return dfs(head) 链表中环的入口结点 反转链表 class Solution: def reverseList(self, head: ListNode) -> ListNode: def dfs(cur): if not cur or not cur.next: return cur o =dfs(cur.next) cur.next.next = cur cur.next = None return o return dfs(head) 合并两个排序的链表 class Solution: def mergeTwoLists(self, l1: ListNode, l2: ListNode) -> ListNode: # if l1 is null return l2 if not l1: return l2 if not l2: return l1 # ex. 1,2,3 | 1,3,4 # recurrence (push) if l1.val <= l2.val: o = self.mergeTwoLists(l1.next,l2) #regression (pop) l1.next = o(if l1 is none:l2) l1.next = o return l1 else: o = self.mergeTwoLists(l1,l2.next) l2.next = o return l2 复杂链表的复制 class Solution: def copyRandomList(self, head: 'Node') -> 'Node': # use dic to build and copy linklist if not head: return None dic ={} _cur = head while _cur: dic[_cur] = Node(_cur.val) _cur = _cur.next _cur = head while _cur: dic[_cur].next = dic.get(_cur.next) dic[_cur].random = dic.get(_cur.random) _cur = _cur.next return dic[head] 两个链表的第一个公共结点 class Solution: def getIntersectionNode(self, headA: ListNode, headB: ListNode) -> ListNode: A,B = headA,headB while A!=B: A = A.next if A else headB B = B.next if B else headA return A 树 重建二叉树 class Solution: def buildTree(self, preorder: List[int], inorder: List[int]) -> TreeNode: # 0 if len(preorder)==0 or len(inorder)==0: return None # 1 build root r_val = preorder[0] root = TreeNode(r_val) # find index idx = inorder.index(r_val) # build left & right based on b-tree attribute root.left = self.buildTree(preorder[1:1+idx],inorder[:idx]) root.right = self.buildTree(preorder[1+idx:],inorder[idx+1:]) return root 二叉树的下一个结点 树的子结构 class Solution: def isSubStructure(self, A: TreeNode, B: TreeNode) -> bool: if not A or not B:return False def dfs(A,B): if not B:return True if not A:return False o_l = dfs(A.left,B.left) o_r = dfs(A.right,B.right) return A.val==B.val and o_l and o_r return dfs(A,B) or self.isSubStructure(A.left,B) or self.isSubStructure(A.right,B) 二叉树的镜像 class Solution: def mirrorTree(self, root: TreeNode) -> TreeNode: def dfs(node): if node is None: return node o_l =dfs(node.left) o_r =dfs(node.right) node.left = o_r node.right = o_l return node return dfs(root) 对称的二叉树 class Solution: def isSymmetric(self, root: TreeNode) -> bool: def dfs(left,right): if left is None and right is None: # 1. return True if left is None or right is None or left.val != right.val: return False return dfs(left.left, right.right) and dfs(left.right, right.left) return dfs(root.left, root.right) if root else True 32.1 从上往下打印二叉树 class Solution: def levelOrder(self, root: TreeNode) -> List[int]: if not root:return [] q,ans = [root],[] while q: node = q.pop(0) ans.append(node.val) if node.left: q.append(node.left) if node.right: q.append(node.right) return ans 32.2 把二叉树打印成多行 class Solution: def levelOrder(self, root: TreeNode) -> List[List[int]]: if not root:return [] q =[root] ans =[] while q: tmp =[] for _ in range(len(q)): node = q.pop(0) tmp.append(node.val) if node.left:q.append(node.left) if node.right:q.append(node.right) ans.append(tmp) return ans 32.3 按之字形顺序打印二叉树 class Solution: def levelOrder(self, root: TreeNode) -> List[List[int]]: if not root:return[] i,q,ans = 0,[root],[] while q: tmp = [] i+=1 for _ in range(len(q)): node = q.pop(0) tmp.append(node.val) if node.left: q.append(node.left) if node.right: q.append(node.right) if i%2 ==0: ans.append(list(reversed(tmp))) else:ans.append(tmp) return ans 二叉搜索树的后序遍历序列 class Solution: def verifyPostorder(self, postorder: List[int]) -> bool: # root right left 单调栈 stack,root=[],float('inf') #二叉搜索树: root<right & root>left for num in reversed(postorder): if root < num: return False while stack and stack[-1]>num: root = stack.pop() # root stack.append(num) return True 二叉树中和为某一值的路径 class Solution: def pathSum(self, root: TreeNode, target: int) -> List[List[int]]: # def res,path res = [] path =[] # 1.root left right def dfs(cur,tar): if not cur:return path.append(cur.val) tar -= cur.val if tar == 0 and not cur.left and not cur.right: res.append(list(path)) dfs(cur.left,tar) dfs(cur.right,tar) path.pop() dfs(root,target) return res 二叉搜索树与双向链表 class Solution: def treeToDoublyList(self, root: 'Node') -> 'Node': if not root:return def dfs(cur): if not cur: return dfs(cur.left) if not self.pre: self.head = cur # head else: self.pre.right =cur cur.left = self.pre self.pre = cur dfs(cur.right) self.pre = None self.head = None dfs(root) self.head.left = self.pre self.pre.right = self.head return self.head 序列化二叉树 class Codec: def serialize(self, root): if not root: return &#34;[]&#34; queue = collections.deque() queue.append(root) res = [] while queue: node = queue.popleft() if node: res.append(str(node.val)) queue.append(node.left) queue.append(node.right) else: res.append(&#34;null&#34;) return '[' + ','.join(res) + ']' def deserialize(self, data): if data == &#34;[]&#34;: return vals, i = data[1:-1].split(','), 1 root = TreeNode(int(vals[0])) queue = collections.deque() queue.append(root) while queue: node = queue.popleft() if vals[i] != &#34;null&#34;: node.left = TreeNode(int(vals[i])) queue.append(node.left) i += 1 if vals[i] != &#34;null&#34;: node.right = TreeNode(int(vals[i])) queue.append(node.right) i += 1 return root 二叉查找树的第 K 个结点 class Solution: def kthLargest(self, root: TreeNode, k: int) -> int: i,r= 0,0 def dfs(node): if node is None: return dfs(node.right) nonlocal i nonlocal r i+=1 if i ==k: r = node.val dfs(node.left) dfs(root) return r 55.1 二叉树的深度 class Solution: def maxDepth(self, root: TreeNode) -> int: def dfs(node): if node is None: return 0 # deep o_l =dfs(node.left) o_r =dfs(node.right) deep = max(o_l,o_r)+1 return deep return dfs(root) 55.2 平衡二叉树 class Solution: def isBalanced(self, root: TreeNode) -> bool: def dfs(node): if node is None: return 0 # value==-1 return -1 o_l = dfs(node.left) if o_l == -1:return -1 o_r = dfs(node.right) if o_r ==-1:return -1 result = max(o_l,o_r)+1 if abs(o_l - o_r)<=1 else -1 return result r =dfs(root) return r!=-1 树中两个节点的最低公共祖先 class Solution: def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -> 'TreeNode': def dfs(node,p,q): if node.val > p.val and node.val > q.val: return dfs(node.left, p, q) if node.val < p.val and node.val < q.val: return dfs(node.right, p, q) return node return dfs(root,p,q) 贪心思想 剪绳子 class Solution: def cuttingRope(self, n: int) -> int: dp =[0]*(n+1) max_tmp =0 dp[2] =1 for i in range(2,n+1): for j in range(1,i): max_tmp = max((i-j)*j,dp[i-j]*j) dp[i]=max(dp[i],max_tmp) return dp[-1] 股票的最大利润 class Solution: def maxProfit(self, prices: List[int]) -> int: min_profit = float('inf') max_profit = 0 for day_price in prices: min_profit = min(day_price,min_profit) max_profit = max(day_price-min_profit,max_profit) return max_profit 二分查找 旋转数组的最小数字 class Solution: def minArray(self, numbers: List[int]) -> int: l,r =0,len(numbers)-1 while l<=r: mid = (l+r)//2 if numbers[mid]>numbers[r]: l=mid+1 elif numbers[mid]<numbers[r]: r =mid else: r-=1 return numbers[l] 数字在排序数组中出现的次数 class Solution: def search(self, nums: List[int], target: int) -> int: def find_r(nums,target)->int: _l,_r = 0,len(nums)-1 while _l<=_r: m = (_l+_r)//2 if nums[m] <= target: _l = m+1 else: _r = m-1 return _l r = find_r(nums,target) r_pre = find_r(nums,target-1) return r - r_pre 分治 数值的整数次方 class Solution: def myPow(self, x: float, n: int) -> float: if n == 0: return 1 elif n < 0: # 1/x^{-n} return 1/self.myPow(x, -n) elif n & 1: # odd: x∗x^(n−1) return x * self.myPow(x, n - 1) else: # even x^2*(n/2) return self.myPow(x*x, n // 2) 搜索 矩阵中的路径 class Solution: def exist(self, board: List[List[str]], word: str) -> bool: # S0:check None if not board or not board[0]:return False row =len(board) col = len(board[0]) # S1:def dfs and backtracking def dfs(_i,_j,k): if not (0<=_i<row) or not (0<=_j<col) or board[_i][_j]!=word[k]: return False # S2: True condition if k == len(word)-1:return True # S1 board[_i][_j] ='' res = dfs(_i + 1, _j, k + 1) or dfs(_i - 1, _j, k + 1) or dfs(_i, _j + 1, k + 1) or dfs(_i, _j - 1, k + 1) # S1 board[_i][_j]=word[k] return res # S4 for to call dfs for _i in range(row): for _j in range(col): if dfs(_i,_j,0):return True return False 机器人的运动范围 class Solution: def movingCount(self, m: int, n: int, k: int) -> int: visited = [[False]*n for _ in range(m)] self.res = 0 def dfs(i, j): if not (0<=i<m) or not (0<=j<n) or visited[i][j] or (i//10+i%10+j//10+j%10>k): return visited[i][j] = True self.res += 1 dfs(i+1, j) dfs(i-1, j) dfs(i, j+1) dfs(i, j-1) #visited[i][j] = False dfs(0, 0) return self.res 字符串的排列 class Solution: def permutation(self, s: str) -> List[str]: c, res = list(s), [] def dfs(x): if x == len(c) - 1: res.append(''.join(c)) # 添加排列方案 return dic = set() for i in range(x, len(c)): if c[i] in dic: continue # 重复，因此剪枝 dic.add(c[i]) c[i], c[x] = c[x], c[i] # 交换，将 c[i] 固定在第 x 位 dfs(x + 1) # 开启固定第 x + 1 位字符 c[i], c[x] = c[x], c[i] # 恢复交换 dfs(0) return res 排序 调整数组顺序使奇数位于偶数前面 class Solution: def exchange(self, nums: List[int]) -> List[int]: #2 points _i,_j = 0,len(nums)-1 while _i<_j: #_i+=1 while _i<_j and nums[_i]%2 == 1:_i+=1 #_j-=1 while _i<_j and nums[_j]%2 == 0:_j-=1 #swap nums[_i],nums[_j] = nums[_j],nums[_i] return nums 把数组排成最小的数 class Solution: def minNumber(self, nums: List[int]) -> str: def quick_sort(l , r): if l >= r: return # left & right point i, j = l, r while i < j: while strs[j] + strs[l] >= strs[l] + strs[j] and i < j: j -= 1 while strs[i] + strs[l] <= strs[l] + strs[i] and i < j: i += 1 strs[i], strs[j] = strs[j], strs[i] strs[i], strs[l] = strs[l], strs[i] quick_sort(l, i - 1) quick_sort(i + 1, r) strs = [str(num) for num in nums] quick_sort(0, len(strs) - 1) return ''.join(strs) 数组中的逆序对 class Solution: def reversePairs(self, nums: List[int]) -> int: def merge_sort(l, r): # 终止条件 if l >= r: return 0 # 递归划分 m = (l + r) // 2 res = merge_sort(l, m) + merge_sort(m + 1, r) # 合并阶段 i, j = l, m + 1 tmp[l:r + 1] = nums[l:r + 1] for k in range(l, r + 1): if i == m + 1: nums[k] = tmp[j] j += 1 elif j == r + 1 or tmp[i] <= tmp[j]: nums[k] = tmp[i] i += 1 else: nums[k] = tmp[j] j += 1 res += m - i + 1 # 统计逆序对 return res tmp = [0] * len(nums) return merge_sort(0, len(nums) - 1) 动态规划 10.1 斐波那契数列 class Solution: def fib(self, n: int) -> int: #S0: if n==0:return 0 if n==1:return 1 #S1: Def dp is line or matrix and identify parameter #S3: Init dp dp = [0] * (n+1) dp[0]=0 dp[1]=1 # S4: Decide loop wany for _i in range(2,n+1): # S2: Recurrence Formula dp[_i] = dp[_i-1]+dp[_i-2] return dp[-1] % 1000000007 10.2 矩形覆盖 10.3 跳台阶 class Solution: def numWays(self, n: int) -> int: dp = [1,1] # 1,1,2,3,5 for i in range(2,n+1): dp.append(dp[i-1]+dp[i-2]) return dp[-1] % 1000000007 10.4 变态跳台阶 连续子数组的最大和 class Solution: def maxSubArray(self, nums: List[int]) -> int: # use dp # 1.def dp and def n means n = len(nums) # 3.init dp dp = [0] * n # 4.decide loop for _i in range(n): # 2.Recurrence Formula if dp[_i-1]>0: dp[_i] = dp[_i-1]+nums[_i] else:dp[_i] = nums[_i] # 5.decide return return max(dp) 礼物的最大价值 class Solution: def maxValue(self, grid: list[list[int]]) -> int: # DP if not grid or not grid[0]:return 0 #print(grid) # 1.def dp row = len(grid) col = len(grid[0]) dp=[[0]*col for _ in range(row)] # 3.init dp dp[0][0] =grid[0][0] for _i in range(1,row): dp[_i][0] = dp[_i-1][0]+grid[_i][0] for _j in range(1,col): dp[0][_j] = dp[0][_j-1]+grid[0][_j] #print(dp) # 4.decide loop for _i in range(1,row): for _j in range(1,col): # 2.recurrence formula dp[_i][_j] = max(dp[_i-1][_j]+grid[_i][_j],dp[_i][_j-1]+grid[_i][_j]) #print(dp) # 5. decide return return dp[-1][-1] 最长不含重复字符的子字符串 class Solution: def lengthOfLongestSubstring(self, s: str) -> int: if not s:return 0 dic ={} #1.def dp [] and i means ans = 1 n = len(s) dp=[0]*n #3.init dp dp[0] = 1 dic[s[0]]=0 # init dic #4.def loop for _i in range(1,n): #2.recurrence formula if s[_i] not in dic: # char not repeat dp[_i] = dp[_i-1]+1 else: _repeat = dic[s[_i]] #char repeat then compare pre,cur interval cur_interval = _i-_repeat dp[_i] = dp[_i-1]+1 if cur_interval>dp[_i-1] else cur_interval dic[s[_i]] = _i ans =max(dp[_i],ans) # return return ans 丑数 class Solution: def nthUglyNumber(self, n: int) -> int: #1.def dp and i means #2.recurrence formula #3.init dp #4.decide loop dp = [1] * n _a, _b, _c = 0,0,0 for _i in range(1, n): n2, n3, n5 = dp[_a] * 2, dp[_b] * 3, dp[_c] * 5 # dp[i] = min(dp[a]*2,dp[b]*3,dp[c]*5) three points dp[_i] = min(n2, n3, n5) if dp[_i] == n2: _a += 1 if dp[_i] == n3: _b += 1 if dp[_i] == n5: _c += 1 return dp[-1] n 个骰子的点数 class Solution: def dicesProbability(self, n: int) -> List[float]: dp = [1 / 6] * 6 for i in range(2, n + 1): tmp = [0] * (5 * i + 1) for j in range(len(dp)): for k in range(6): tmp[j + k] += dp[j] / 6 dp = tmp return dp 构建乘积数组 class Solution: def constructArr(self, a: List[int]) -> List[int]: # def varible n = len(a) res = [1] * n # loop tmp = 1 for _i in range(n): res[_i] = tmp tmp *= a[_i] #print(res) # reversed loop tmp =1 for _j in reversed(range(n)): res[_j] *= tmp tmp *= a[_j] #print(res) return res 数学 数组中出现次数超过一半的数字 class Solution: def majorityElement(self, nums: List[int]) -> int: n = len(nums)//2 if len(nums) ==1: return nums[0] dic = {} for num in nums: if num not in dic: dic[num]=1 else: if dic[num]>=n: return num else: dic[num] += 1 圆圈中最后剩下的数 class Solution: def lastRemaining(self, n: int, m: int) -> int: ans = 0 for i in range(2,n+1): ans = (ans+m) % i return ans 从 1 到 n 整数中 1 出现的次数 class Solution: def countDigitOne(self, n: int) -> int: digit, res = 1, 0 high, cur, low = n // 10, n % 10, 0 while high != 0 or cur != 0: if cur == 0: res += high * digit elif cur == 1: res += high * digit + low + 1 else: res += (high + 1) * digit low += cur * digit cur = high % 10 high //= 10 digit *= 10 return res 位运算 二进制中 1 的个数 class Solution: def hammingWeight(self, n: int) -> int: res =0 while n: res+= n&amp;1 n>>=1 return res 数组中只出现一次的数字 class Solution: def singleNumbers(self, nums: List[int]) -> List[int]: dic,ans = {},[] for num in nums: if num not in dic: dic[num] =True else: dic[num] = False for k,v in dic.items(): if v: ans.append(k) return ans 其它 打印从 1 到最大的 n 位数 class Solution: def printNumbers(self, n: int) -> List[int]: res =[] for i in range(1,10**n): res.append(i) return res 正则表达式匹配 class Solution: def isMatch(self, s: str, p: str) -> bool: m, n = len(s) + 1, len(p) + 1 dp = [[False] * n for _ in range(m)] dp[0][0] = True # 初始化首行 for j in range(2, n, 2): dp[0][j] = dp[0][j - 2] and p[j - 1] == '*' # 状态转移 for i in range(1, m): for j in range(1, n): if p[j - 1] == '*': if dp[i][j - 2]: dp[i][j] = True # 1. elif dp[i - 1][j] and s[i - 1] == p[j - 2]: dp[i][j] = True # 2. elif dp[i - 1][j] and p[j - 2] == '.': dp[i][j] = True # 3. else: if dp[i - 1][j - 1] and s[i - 1] == p[j - 1]: dp[i][j] = True # 1. elif dp[i - 1][j - 1] and p[j - 1] == '.': dp[i][j] = True # 2. return dp[-1][-1] 表示数值的字符串 class Solution: def isNumber(self, s: str) -> bool: states = [ { ' ': 0, 's': 1, 'd': 2, '.': 4 }, # 0. start with 'blank' { 'd': 2, '.': 4 } , # 1. 'sign' before 'e' { 'd': 2, '.': 3, 'e': 5, ' ': 8 }, # 2. 'digit' before 'dot' { 'd': 3, 'e': 5, ' ': 8 }, # 3. 'digit' after 'dot' { 'd': 3 }, # 4. 'digit' after 'dot' (‘blank’ before 'dot') { 's': 6, 'd': 7 }, # 5. 'e' { 'd': 7 }, # 6. 'sign' after 'e' { 'd': 7, ' ': 8 }, # 7. 'digit' after 'e' { ' ': 8 } # 8. end with 'blank' ] p = 0 # start with state 0 for c in s: if '0' <= c <= '9': t = 'd' # digit elif c in &#34;+-&#34;: t = 's' # sign elif c in &#34;eE&#34;: t = 'e' # e or E elif c in &#34;. &#34;: t = c # dot, blank else: t = '?' # unknown if t not in states[p]: return False p = states[p][t] return p in (2, 3, 7, 8) 数字序列中的某一位数字 class Solution: def findNthDigit(self, n: int) -> int: digit, start, count = 1, 1, 9 while n > count: # 1. n -= count start *= 10 digit += 1 count = 9 * start * digit num = start + (n - 1) // digit # 2. return int(str(num)[(n - 1) % digit]) # 3. 把数字翻译成字符串 class Solution: def translateNum(self, num: int) -> int: s = str(num) # 1.def dp n = len(s) if n<2:return n dp =[0]*(n+1) # 3.init dp dp[0] = 1 dp[1] =1 # 4.decide loop for _i in range(2,n+1): # 2.recurrence formula if '10'<=s[_i-2:_i]<='25': dp[_i] = dp[_i-1]+dp[_i-2] else: dp[_i] =dp[_i-1] # 5.return return dp[-1] 扑克牌顺子 class Solution: def isStraight(self, nums: List[int]) -> bool: repeat = set() ma, mi = 0, 14 for num in nums: if num == 0: continue # 跳过大小王 ma = max(ma, num) # 最大牌 mi = min(mi, num) # 最小牌 if num in repeat: return False # 若有重复，提前返回 false repeat.add(num) # 添加牌至 Set return ma - mi < 5 # 最大牌 - 最小牌 < 5 则可构成顺子 求 1+2+3+…+n class Solution: # recurion def sumNums(self, n: int) -> int: # sum = 0 sum_n= 0 def rcur(n): if n==0: return 0 r = rcur(n-1) # regression nonlocal sum_n sum_n+=r return n rcur(n) # add n sum_n=sum_n+n return sum_n 不用加减乘除做加法 class Solution: def add(self, a: int, b: int) -> int: x = 0xffffffff a, b = a & x, b & x while b != 0: a, b = (a ^ b), (a & b) << 1 & x return a if a <= 0x7fffffff else ~(a ^ x) 把字符串转换成整数 class Solution: def strToInt(self, str: str) -> int: int_max, int_min = 2**31 - 1, -2**31 str = str.strip() if not str: return 0 state = [ {'s':1, 'd':2, 't':3}, #0起始状态 {'s':3, 'd':2, 't':3}, #1符号状态 {'s':3, 'd':2, 't':3}, #2数字状态 {'s':3, 'd':3, 't':3} #3终止状态 ] cur, res, flag = 0, 0, 1 for i in str: if i in '+-': c = 's' elif i.isdigit(): c = 'd' else: c = 't' cur = state[cur][c] if cur == 2: res = 10*res + ord(i) - ord('0') res = min(int_max, res) if flag == 1 else min(-int_min, res) elif cur == 1: flag = 1 if i == '+' else -1 return res*flag"><meta name=application-name content="Gethin"><meta name=apple-mobile-web-app-title content="Gethin"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.gethin.online/point-offer/><link rel=prev href=https://blog.gethin.online/8-models/><link rel=next href=https://blog.gethin.online/options-trading-beginners-guide-1/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"剑指Offer（python）","inLanguage":"zh-cn","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.gethin.online\/point-offer\/"},"image":["https:\/\/blog.gethin.online\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"算法","wordcount":3789,"url":"https:\/\/blog.gethin.online\/point-offer\/","datePublished":"2022-04-06T16:22:27+08:00","dateModified":"2025-08-18T16:45:02+08:00","publisher":{"@type":"Organization","name":"gethin","logo":"https:\/\/cdn.jsdelivr.net\/gh\/Gethin1990\/PicBed\/BlogImg\/g.PNG"},"author":{"@type":"Person","name":"xxxx"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Gethin><span class=header-title-pre><i class='fas fa-cloud-sun'></i></span><span class=header-title-post>Cloud & Sun</span></a></div><div class=menu style=overflow:visible><div class=menu-inner><a class=menu-item href=/ title=首页><i class='fas fa-home fa-fw'></i>首页</a>
<a class=menu-item href=/categories/><i class='fas fa-th-list fa-fw'></i>分类</a>
<a class=menu-item href=/tags/><i class='fas fa-tags fa-fw'></i> 标签</a>
<a class=menu-item href=/posts/ title=所有文章><i class='fas fa-archive fa-fw'></i>归档</a><div class="dropdown menu-item" style=display:inline><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-fan fa-fw'></i>分享</a><div class=dropdown-menu style=display:none><a class=dropdown-item href=/memories/><i class='fas fa-database fa-fw'></i> 记忆 </a><a class=dropdown-item href=/reveal/><i class='fas fa-arrow-alt-circle-right fa-fw'></i> 展示 </a><a class=dropdown-item href=/websites/><i class='fas fa-globe fa-fw'></i> 网站</a></div></div><div class="dropdown menu-item" style=display:inline><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-door-closed fa-fw'></i>传送门</a><div class=dropdown-menu style=display:none><a class=dropdown-item href=/message-board/><i class='fas fa-comments fa-fw'></i> 留言板 </a><a class=dropdown-item href=/milestone/><i class='fas fa-monument fa-fw'></i> 里程碑 </a><a class=dropdown-item href=/links/><i class='fas fa-user-friends fa-fw'></i> 友情链</a></div></div><div class="dropdown menu-item" style=display:inline><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-user-secret fa-fw'></i>关于</a><div class=dropdown-menu style=display:none><a class=dropdown-item href=/about/><i class='fas fa-address-card fa-fw'></i> 关于本人 </a><a class=dropdown-item href=/keypoint/><i class='fas fa-star fa-fw'></i> 关键信息</a></div></div><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title=选择语言><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/point-offer/ selected></option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Gethin><span class=header-title-pre><i class='fas fa-cloud-sun'></i></span><span class=header-title-post>Cloud & Sun</span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title=首页><i class='fas fa-home fa-fw'></i>首页</a>
<a class=menu-item href=/categories/ title><i class='fas fa-th-list fa-fw'></i>分类</a>
<a class=menu-item href=/tags/ title><i class='fas fa-tags fa-fw'></i> 标签</a>
<a class=menu-item href=/posts/ title=所有文章><i class='fas fa-archive fa-fw'></i>归档</a><div class="dropdown menu-item"><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-fan fa-fw'></i>分享</a><div class="dropdown-menu dropdown-menu-mobile" style=display:none><a class=dropdown-item href=/memories/><i class='fas fa-database fa-fw'></i> 记忆 </a><a class=dropdown-item href=/reveal/><i class='fas fa-arrow-alt-circle-right fa-fw'></i> 展示 </a><a class=dropdown-item href=/websites/><i class='fas fa-globe fa-fw'></i> 网站</a></div></div><div class="dropdown menu-item"><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-door-closed fa-fw'></i>传送门</a><div class="dropdown-menu dropdown-menu-mobile" style=display:none><a class=dropdown-item href=/message-board/><i class='fas fa-comments fa-fw'></i> 留言板 </a><a class=dropdown-item href=/milestone/><i class='fas fa-monument fa-fw'></i> 里程碑 </a><a class=dropdown-item href=/links/><i class='fas fa-user-friends fa-fw'></i> 友情链</a></div></div><div class="dropdown menu-item"><a class=btn href=javascript:void(0); role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class='fas fa-user-secret fa-fw'></i>关于</a><div class="dropdown-menu dropdown-menu-mobile" style=display:none><a class=dropdown-item href=/about/><i class='fas fa-address-card fa-fw'></i> 关于本人 </a><a class=dropdown-item href=/keypoint/><i class='fas fa-star fa-fw'></i> 关键信息</a></div></div><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title=选择语言><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/point-offer/ selected></option></select>
</a>--></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">剑指Offer（python）</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xxxx</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%95%B0%E6%8D%AE%E4%B8%8E%E7%AE%97%E6%B3%95/><i class="far fa-folder fa-fw" aria-hidden=true></i>数据与算法</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-04-06>2022-04-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 3789 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 18 分钟&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/content.jpg data-srcset="/images/content.jpg, /images/content.jpg 1.5x, /images/content.jpg 2x" data-sizes=auto alt=/images/content.jpg title=/images/content.jpg width=2363 height=1269></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#数组与矩阵>数组与矩阵</a></li><li><a href=#栈队列堆>栈队列堆</a></li><li><a href=#双指针>双指针</a></li><li><a href=#链表>链表</a></li><li><a href=#树>树</a></li><li><a href=#贪心思想>贪心思想</a></li><li><a href=#二分查找>二分查找</a></li><li><a href=#分治>分治</a></li><li><a href=#搜索>搜索</a></li><li><a href=#排序>排序</a></li><li><a href=#动态规划>动态规划</a></li><li><a href=#数学>数学</a></li><li><a href=#位运算>位运算</a></li><li><a href=#其它>其它</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h3 id=数组与矩阵>数组与矩阵</h3><ul><li><ol start=3><li>数组中重复的数字</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findRepeatNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span> <span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>num</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>num</span></span></span></code></pre></div></div><ul><li><ol start=4><li>二维数组中的查找</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findNumberIn2DArray</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>matrix</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]],</span> <span class=n>target</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>matrix</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span><span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=n>col</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>matrix</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span><span class=p>,</span><span class=n>_j</span> <span class=o>=</span> <span class=n>col</span><span class=p>,</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_i</span><span class=o>&gt;=</span><span class=mi>0</span> <span class=ow>and</span> <span class=n>_j</span><span class=o>&lt;=</span><span class=n>row</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>matrix</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span><span class=o>&gt;</span><span class=n>target</span><span class=p>:</span><span class=n>_i</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>matrix</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span><span class=o>&lt;</span><span class=n>target</span><span class=p>:</span><span class=n>_j</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span> <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span></span></span></code></pre></div></div><ul><li><ol start=5><li>替换空格</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>replaceSpace</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>c</span> <span class=o>==</span> <span class=s2>&#34; &#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;%20&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>   
</span></span><span class=line><span class=cl>                <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>ans</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=29><li>顺时针打印矩阵</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>spiralOrder</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>matrix</span><span class=p>:[[</span><span class=nb>int</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>matrix</span><span class=p>:</span> <span class=k>return</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>l</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=n>t</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>matrix</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>r</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span> <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>t</span><span class=p>][</span><span class=n>i</span><span class=p>])</span> <span class=c1># left to right</span>
</span></span><span class=line><span class=cl>            <span class=n>t</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>t</span> <span class=o>&gt;</span> <span class=n>b</span><span class=p>:</span> <span class=k>break</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>b</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span> <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>r</span><span class=p>])</span> <span class=c1># top to bottom</span>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>l</span> <span class=o>&gt;</span> <span class=n>r</span><span class=p>:</span> <span class=k>break</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>r</span><span class=p>,</span> <span class=n>l</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span> <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>b</span><span class=p>][</span><span class=n>i</span><span class=p>])</span> <span class=c1># right to left</span>
</span></span><span class=line><span class=cl>            <span class=n>b</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>t</span> <span class=o>&gt;</span> <span class=n>b</span><span class=p>:</span> <span class=k>break</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>b</span><span class=p>,</span> <span class=n>t</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span> <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>l</span><span class=p>])</span> <span class=c1># bottom to top</span>
</span></span><span class=line><span class=cl>            <span class=n>l</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>l</span> <span class=o>&gt;</span> <span class=n>r</span><span class=p>:</span> <span class=k>break</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><ul><li><ol start=50><li>第一个只出现一次的字符位置</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>firstUniqChar</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>c</span><span class=p>,</span><span class=n>v</span> <span class=ow>in</span> <span class=n>dic</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dic</span><span class=p>[</span><span class=n>c</span><span class=p>]:</span><span class=k>return</span> <span class=n>c</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34; &#34;</span></span></span></code></pre></div></div><h3 id=栈队列堆>栈队列堆</h3><ul><li><ol start=9><li>用两个栈实现队列</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>CQueue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>l1</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>l2</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>appendTail</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>l1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>deleteHead</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>l2</span><span class=p>:</span> <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>l2</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>l1</span><span class=p>:</span> <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>l1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>l2</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>l1</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>l2</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span></span></span></code></pre></div></div><ul><li><ol start=30><li>包含 min 函数的栈</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>MinStack</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        initialize your data structure here.
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stack</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>minstack</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>minstack</span> <span class=ow>or</span> <span class=n>x</span><span class=o>&lt;=</span><span class=bp>self</span><span class=o>.</span><span class=n>minstack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>minstack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span> <span class=o>==</span><span class=bp>self</span><span class=o>.</span><span class=n>minstack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>minstack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>top</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>stack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>min</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>minstack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=31><li>栈的压入、弹出序列</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>validateStackSequences</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pushed</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>popped</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span> <span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>pushed</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>stack</span> <span class=ow>and</span> <span class=n>stack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>==</span><span class=n>popped</span><span class=p>[</span><span class=n>_i</span><span class=p>]:</span><span class=c1># 循环栈</span>
</span></span><span class=line><span class=cl>                <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>_i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=ow>not</span> <span class=n>stack</span></span></span></code></pre></div></div><ul><li><ol start=40><li>最小的 K 个数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getLeastNumbers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>arr</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>sort</span><span class=p>(</span><span class=n>arr</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>arr</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>pivot</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=n>less</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=k>if</span> <span class=n>i</span><span class=o>&lt;=</span><span class=n>pivot</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=n>more</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=k>if</span> <span class=n>i</span><span class=o>&gt;</span> <span class=n>pivot</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>sort</span><span class=p>(</span><span class=n>less</span><span class=p>)</span> <span class=o>+</span><span class=p>[</span><span class=n>pivot</span><span class=p>]</span><span class=o>+</span> <span class=n>sort</span><span class=p>(</span><span class=n>more</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>r</span> <span class=o>=</span><span class=n>sort</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>r</span><span class=p>[:</span><span class=n>k</span><span class=p>]</span></span></span></code></pre></div></div><ul><li>41.1 数据流中的中位数</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>heapq</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MedianFinder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>A</span> <span class=o>=</span> <span class=p>[]</span> <span class=c1># 小顶堆，保存较大的一半</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>B</span> <span class=o>=</span> <span class=p>[]</span> <span class=c1># 大顶堆，保存较小的一半</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>addNum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>num</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>,</span> <span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>,</span> <span class=o>-</span><span class=n>heappop</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>,</span> <span class=o>-</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>,</span> <span class=o>-</span><span class=n>heappop</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findMedian</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>)</span> <span class=k>else</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>B</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>/</span> <span class=mf>2.0</span></span></span></code></pre></div></div><ul><li>41.2 字符流中第一个不重复的字符</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li><ol start=59><li>滑动窗口的最大值</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxSlidingWindow</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>deque</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>deque</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span><span class=p>,</span> <span class=n>n</span> <span class=o>=</span> <span class=p>[],</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>1</span> <span class=o>-</span> <span class=n>k</span><span class=p>,</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>k</span><span class=p>),</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=c1># 删除 deque 中对应的 nums[i-1]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>deque</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>deque</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=c1># 保持 deque 递减</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>deque</span> <span class=ow>and</span> <span class=n>deque</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>deque</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>deque</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=c1># 记录窗口最大值</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>deque</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><h3 id=双指针>双指针</h3><ul><li>57.1 和为 S 的两个数字</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>twoSum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>target</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 2 points</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span><span class=p>,</span><span class=n>_j</span> <span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=c1># slide point _i,_j</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_i</span><span class=o>&lt;</span><span class=n>_j</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>s</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span><span class=o>+</span><span class=n>nums</span><span class=p>[</span><span class=n>_j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>s</span><span class=o>&gt;</span><span class=n>target</span><span class=p>:</span> <span class=n>_j</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>s</span><span class=o>&lt;</span> <span class=n>target</span><span class=p>:</span> <span class=n>_i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span><span class=k>return</span><span class=p>[</span><span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>],</span><span class=n>nums</span><span class=p>[</span><span class=n>_j</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[]</span></span></span></code></pre></div></div><ul><li>57.2 和为 S 的连续正数序列</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findContinuousSequence</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>target</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]:</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span><span class=p>,</span><span class=n>_j</span><span class=p>,</span><span class=n>s</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_i</span><span class=o>&lt;</span><span class=n>_j</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>s</span> <span class=o>==</span><span class=n>target</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1>#ans.append(list(range(i, j + 1)))</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>_i</span><span class=p>,</span><span class=n>_j</span><span class=o>+</span><span class=mi>1</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>s</span><span class=o>&gt;=</span><span class=n>target</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>s</span><span class=o>-=</span><span class=n>_i</span>
</span></span><span class=line><span class=cl>                <span class=n>_i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>_j</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=n>s</span><span class=o>+=</span><span class=n>_j</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li>58.1 翻转单词顺序列</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reverseWords</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=n>s</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=c1># 删除首尾空格</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span><span class=o>=</span><span class=n>_j</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=c1># 退出条件</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 添加单词</span>
</span></span><span class=line><span class=cl>            <span class=c1># 向左移动指针</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>_i</span><span class=o>&gt;=</span><span class=mi>0</span> <span class=ow>and</span> <span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span><span class=o>!=</span><span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=n>_i</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=o>+</span><span class=mi>1</span><span class=p>:</span><span class=n>_j</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=c1># _i,_j 指针再次初始化 &amp; 跳过 &#39; &#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=n>_i</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>_j</span> <span class=o>=</span><span class=n>_i</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>ans</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># strs = s.split()</span>
</span></span><span class=line><span class=cl>        <span class=c1># re_str = strs[::-1]</span>
</span></span><span class=line><span class=cl>        <span class=c1># return &#34; &#34;.join(re_str)</span></span></span></code></pre></div></div><ul><li>58.2 左旋转字符串</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reverseLeftWords</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>s</span><span class=p>[</span><span class=n>n</span><span class=p>:]</span><span class=o>+</span><span class=n>s</span><span class=p>[:</span><span class=n>n</span><span class=p>]</span></span></span></code></pre></div></div><h3 id=链表>链表</h3><ul><li><ol start=6><li>从尾到头打印链表</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reversePrint</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>cur</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>cur</span><span class=p>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=n>head</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li>18.1 在 O(1) 时间内删除链表节点</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>deleteNode</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>,</span> <span class=n>val</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ListNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span> <span class=o>==</span> <span class=n>val</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>node</span><span class=o>.</span><span class=n>next</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>head</span><span class=p>)</span></span></span></code></pre></div></div><ul><li>18.2 删除链表中重复的结点</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li><ol start=22><li>链表中倒数第 K 个结点</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getKthFromEnd</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>,</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ListNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>i</span> <span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>cur</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>cur</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>cur</span>
</span></span><span class=line><span class=cl>            <span class=n>o</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=c1># cur always regression, when k, return cur as o</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=o>==</span><span class=n>k</span><span class=p>:</span> <span class=k>return</span> <span class=n>cur</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>o</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>head</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=23><li>链表中环的入口结点</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li><ol start=24><li>反转链表</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reverseList</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ListNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>cur</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>cur</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>cur</span><span class=o>.</span><span class=n>next</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>cur</span> 
</span></span><span class=line><span class=cl>            <span class=n>o</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>.</span><span class=n>next</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>cur</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>o</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>head</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=25><li>合并两个排序的链表</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>mergeTwoLists</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>l1</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>,</span> <span class=n>l2</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ListNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># if l1 is null return l2</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>l1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>l2</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>l2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>l1</span>
</span></span><span class=line><span class=cl>        <span class=c1># ex. 1,2,3 | 1,3,4</span>
</span></span><span class=line><span class=cl>        <span class=c1># recurrence (push)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>l1</span><span class=o>.</span><span class=n>val</span> <span class=o>&lt;=</span> <span class=n>l2</span><span class=o>.</span><span class=n>val</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>o</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>mergeTwoLists</span><span class=p>(</span><span class=n>l1</span><span class=o>.</span><span class=n>next</span><span class=p>,</span><span class=n>l2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>#regression (pop) l1.next = o(if l1 is none:l2)</span>
</span></span><span class=line><span class=cl>            <span class=n>l1</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>o</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>l1</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>o</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>mergeTwoLists</span><span class=p>(</span><span class=n>l1</span><span class=p>,</span><span class=n>l2</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>l2</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>o</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>l2</span></span></span></code></pre></div></div><ul><li><ol start=35><li>复杂链表的复制</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>copyRandomList</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>head</span><span class=p>:</span> <span class=s1>&#39;Node&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Node&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># use dic to build and copy linklist</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>head</span><span class=p>:</span> <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span> <span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=n>_cur</span> <span class=o>=</span> <span class=n>head</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_cur</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dic</span><span class=p>[</span><span class=n>_cur</span><span class=p>]</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=n>_cur</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>_cur</span> <span class=o>=</span> <span class=n>_cur</span><span class=o>.</span><span class=n>next</span>
</span></span><span class=line><span class=cl>        <span class=n>_cur</span> <span class=o>=</span> <span class=n>head</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_cur</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dic</span><span class=p>[</span><span class=n>_cur</span><span class=p>]</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>dic</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>_cur</span><span class=o>.</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dic</span><span class=p>[</span><span class=n>_cur</span><span class=p>]</span><span class=o>.</span><span class=n>random</span> <span class=o>=</span> <span class=n>dic</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>_cur</span><span class=o>.</span><span class=n>random</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>_cur</span> <span class=o>=</span> <span class=n>_cur</span><span class=o>.</span><span class=n>next</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dic</span><span class=p>[</span><span class=n>head</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=52><li>两个链表的第一个公共结点</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getIntersectionNode</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>headA</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>,</span> <span class=n>headB</span><span class=p>:</span> <span class=n>ListNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ListNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>A</span><span class=p>,</span><span class=n>B</span> <span class=o>=</span> <span class=n>headA</span><span class=p>,</span><span class=n>headB</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>A</span><span class=o>!=</span><span class=n>B</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>A</span> <span class=o>=</span> <span class=n>A</span><span class=o>.</span><span class=n>next</span> <span class=k>if</span> <span class=n>A</span> <span class=k>else</span> <span class=n>headB</span>
</span></span><span class=line><span class=cl>            <span class=n>B</span> <span class=o>=</span> <span class=n>B</span><span class=o>.</span><span class=n>next</span> <span class=k>if</span> <span class=n>B</span> <span class=k>else</span> <span class=n>headA</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>A</span></span></span></code></pre></div></div><h3 id=树>树</h3><ul><li><ol start=7><li>重建二叉树</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>buildTree</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>preorder</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>inorder</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>TreeNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 0</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>preorder</span><span class=p>)</span><span class=o>==</span><span class=mi>0</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>inorder</span><span class=p>)</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1 build root</span>
</span></span><span class=line><span class=cl>        <span class=n>r_val</span> <span class=o>=</span> <span class=n>preorder</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>root</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=n>r_val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># find index</span>
</span></span><span class=line><span class=cl>        <span class=n>idx</span> <span class=o>=</span> <span class=n>inorder</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>r_val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># build left &amp; right based on b-tree attribute</span>
</span></span><span class=line><span class=cl>        <span class=n>root</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>buildTree</span><span class=p>(</span><span class=n>preorder</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>1</span><span class=o>+</span><span class=n>idx</span><span class=p>],</span><span class=n>inorder</span><span class=p>[:</span><span class=n>idx</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>root</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>buildTree</span><span class=p>(</span><span class=n>preorder</span><span class=p>[</span><span class=mi>1</span><span class=o>+</span><span class=n>idx</span><span class=p>:],</span><span class=n>inorder</span><span class=p>[</span><span class=n>idx</span><span class=o>+</span><span class=mi>1</span><span class=p>:])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>root</span></span></span></code></pre></div></div><ul><li><ol start=8><li>二叉树的下一个结点</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li><ol start=26><li>树的子结构</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isSubStructure</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>A</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>,</span> <span class=n>B</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>A</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>B</span><span class=p>:</span><span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>A</span><span class=p>,</span><span class=n>B</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>B</span><span class=p>:</span><span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>A</span><span class=p>:</span><span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=n>o_l</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>left</span><span class=p>,</span><span class=n>B</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>o_r</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>right</span><span class=p>,</span><span class=n>B</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>A</span><span class=o>.</span><span class=n>val</span><span class=o>==</span><span class=n>B</span><span class=o>.</span><span class=n>val</span> <span class=ow>and</span> <span class=n>o_l</span> <span class=ow>and</span> <span class=n>o_r</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>A</span><span class=p>,</span><span class=n>B</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>isSubStructure</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>left</span><span class=p>,</span><span class=n>B</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>isSubStructure</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>right</span><span class=p>,</span><span class=n>B</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=27><li>二叉树的镜像</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>mirrorTree</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>TreeNode</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>            <span class=n>o_l</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>o_r</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>o_r</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=n>o_l</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=28><li>对称的二叉树</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isSymmetric</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>left</span><span class=p>,</span><span class=n>right</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>left</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>right</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span> <span class=c1># 1. </span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>left</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>right</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>left</span><span class=o>.</span><span class=n>val</span> <span class=o>!=</span> <span class=n>right</span><span class=o>.</span><span class=n>val</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>left</span><span class=o>.</span><span class=n>left</span><span class=p>,</span> <span class=n>right</span><span class=o>.</span><span class=n>right</span><span class=p>)</span> <span class=ow>and</span> <span class=n>dfs</span><span class=p>(</span><span class=n>left</span><span class=o>.</span><span class=n>right</span><span class=p>,</span> <span class=n>right</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=o>.</span><span class=n>left</span><span class=p>,</span> <span class=n>root</span><span class=o>.</span><span class=n>right</span><span class=p>)</span> <span class=k>if</span> <span class=n>root</span> <span class=k>else</span> <span class=kc>True</span></span></span></code></pre></div></div><ul><li>32.1 从上往下打印二叉树</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>levelOrder</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span><span class=k>return</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span><span class=p>,</span><span class=n>ans</span> <span class=o>=</span> <span class=p>[</span><span class=n>root</span><span class=p>],[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>q</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>q</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li>32.2 把二叉树打印成多行</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>levelOrder</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span><span class=k>return</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span> <span class=o>=</span><span class=p>[</span><span class=n>root</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>q</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>tmp</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>q</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>q</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>tmp</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>:</span><span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>:</span><span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tmp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li>32.3 按之字形顺序打印二叉树</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>levelOrder</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span><span class=k>return</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>i</span><span class=p>,</span><span class=n>q</span><span class=p>,</span><span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,[</span><span class=n>root</span><span class=p>],[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>q</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>tmp</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>q</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span> <span class=o>=</span> <span class=n>q</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>tmp</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span><span class=mi>0</span><span class=p>:</span> <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=nb>reversed</span><span class=p>(</span><span class=n>tmp</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span><span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tmp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li><ol start=33><li>二叉搜索树的后序遍历序列</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>verifyPostorder</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>postorder</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># root right left 单调栈        </span>
</span></span><span class=line><span class=cl>        <span class=n>stack</span><span class=p>,</span><span class=n>root</span><span class=o>=</span><span class=p>[],</span><span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#二叉搜索树: root&lt;right &amp; root&gt;left</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=n>postorder</span><span class=p>):</span> 
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>root</span> <span class=o>&lt;</span> <span class=n>num</span><span class=p>:</span> <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>stack</span> <span class=ow>and</span> <span class=n>stack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>&gt;</span><span class=n>num</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>root</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=c1># root</span>
</span></span><span class=line><span class=cl>            <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span></span></span></code></pre></div></div><ul><li><ol start=34><li>二叉树中和为某一值的路径</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pathSum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>,</span> <span class=n>target</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># def res,path</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>path</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1.root left right</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>cur</span><span class=p>,</span><span class=n>tar</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>cur</span><span class=p>:</span><span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>path</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>tar</span> <span class=o>-=</span> <span class=n>cur</span><span class=o>.</span><span class=n>val</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>tar</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>cur</span><span class=o>.</span><span class=n>left</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>cur</span><span class=o>.</span><span class=n>right</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>path</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>left</span><span class=p>,</span><span class=n>tar</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>right</span><span class=p>,</span><span class=n>tar</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>path</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=n>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><ul><li><ol start=36><li>二叉搜索树与双向链表</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>treeToDoublyList</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=s1>&#39;Node&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Node&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span><span class=k>return</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>cur</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>cur</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=n>cur</span> <span class=c1># head</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>pre</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span><span class=n>cur</span>
</span></span><span class=line><span class=cl>                <span class=n>cur</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>pre</span> <span class=o>=</span> <span class=n>cur</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>cur</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pre</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>head</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>head</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pre</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>head</span></span></span></code></pre></div></div><ul><li><ol start=37><li>序列化二叉树</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Codec</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span> <span class=k>return</span> <span class=s2>&#34;[]&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>deque</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>queue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>val</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span> <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;null&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;[&#39;</span> <span class=o>+</span> <span class=s1>&#39;,&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>res</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39;]&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>deserialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>data</span> <span class=o>==</span> <span class=s2>&#34;[]&#34;</span><span class=p>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl>        <span class=n>vals</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>),</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>root</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>vals</span><span class=p>[</span><span class=mi>0</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>deque</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>queue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>vals</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;null&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>vals</span><span class=p>[</span><span class=n>i</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>                <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>vals</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;null&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>node</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>vals</span><span class=p>[</span><span class=n>i</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>                <span class=n>queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>root</span></span></span></code></pre></div></div><ul><li><ol start=54><li>二叉查找树的第 K 个结点</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>kthLargest</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>,</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>i</span><span class=p>,</span><span class=n>r</span><span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=o>==</span><span class=n>k</span><span class=p>:</span> <span class=n>r</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>r</span></span></span></code></pre></div></div><ul><li>55.1 二叉树的深度</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxDepth</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=mi>0</span> <span class=c1># deep</span>
</span></span><span class=line><span class=cl>            <span class=n>o_l</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>o_r</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>deep</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>o_l</span><span class=p>,</span><span class=n>o_r</span><span class=p>)</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>deep</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>)</span></span></span></code></pre></div></div><ul><li>55.2 平衡二叉树</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isBalanced</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>TreeNode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=c1># value==-1 return -1</span>
</span></span><span class=line><span class=cl>            <span class=n>o_l</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>o_l</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span><span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>o_r</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>o_r</span> <span class=o>==-</span><span class=mi>1</span><span class=p>:</span><span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>o_l</span><span class=p>,</span><span class=n>o_r</span><span class=p>)</span><span class=o>+</span><span class=mi>1</span> <span class=k>if</span> <span class=nb>abs</span><span class=p>(</span><span class=n>o_l</span> <span class=o>-</span> <span class=n>o_r</span><span class=p>)</span><span class=o>&lt;=</span><span class=mi>1</span> <span class=k>else</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        <span class=n>r</span> <span class=o>=</span><span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>r</span><span class=o>!=-</span><span class=mi>1</span></span></span></code></pre></div></div><ul><li><ol start=68><li>树中两个节点的最低公共祖先</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>lowestCommonAncestor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=s1>&#39;TreeNode&#39;</span><span class=p>,</span> <span class=n>p</span><span class=p>:</span> <span class=s1>&#39;TreeNode&#39;</span><span class=p>,</span> <span class=n>q</span><span class=p>:</span> <span class=s1>&#39;TreeNode&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;TreeNode&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>node</span><span class=p>,</span><span class=n>p</span><span class=p>,</span><span class=n>q</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span> <span class=o>&gt;</span> <span class=n>p</span><span class=o>.</span><span class=n>val</span> <span class=ow>and</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span> <span class=o>&gt;</span> <span class=n>q</span><span class=o>.</span><span class=n>val</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>,</span> <span class=n>p</span><span class=p>,</span> <span class=n>q</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span> <span class=o>&lt;</span> <span class=n>p</span><span class=o>.</span><span class=n>val</span> <span class=ow>and</span> <span class=n>node</span><span class=o>.</span><span class=n>val</span> <span class=o>&lt;</span> <span class=n>q</span><span class=o>.</span><span class=n>val</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>,</span> <span class=n>p</span><span class=p>,</span> <span class=n>q</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>node</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=n>p</span><span class=p>,</span><span class=n>q</span><span class=p>)</span></span></span></code></pre></div></div><h3 id=贪心思想>贪心思想</h3><ul><li><ol start=14><li>剪绳子</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cuttingRope</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>*</span><span class=p>(</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>max_tmp</span> <span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>i</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>max_tmp</span> <span class=o>=</span> <span class=nb>max</span><span class=p>((</span><span class=n>i</span><span class=o>-</span><span class=n>j</span><span class=p>)</span><span class=o>*</span><span class=n>j</span><span class=p>,</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=n>j</span><span class=p>]</span><span class=o>*</span><span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>=</span><span class=nb>max</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=n>max_tmp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=63><li>股票的最大利润</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxProfit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prices</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>min_profit</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>max_profit</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>day_price</span> <span class=ow>in</span> <span class=n>prices</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>min_profit</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>day_price</span><span class=p>,</span><span class=n>min_profit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>max_profit</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>day_price</span><span class=o>-</span><span class=n>min_profit</span><span class=p>,</span><span class=n>max_profit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>max_profit</span></span></span></code></pre></div></div><h3 id=二分查找>二分查找</h3><ul><li><ol start=11><li>旋转数组的最小数字</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>minArray</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>numbers</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>l</span><span class=p>,</span><span class=n>r</span> <span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>numbers</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>l</span><span class=o>&lt;=</span><span class=n>r</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>l</span><span class=o>+</span><span class=n>r</span><span class=p>)</span><span class=o>//</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>numbers</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span><span class=o>&gt;</span><span class=n>numbers</span><span class=p>[</span><span class=n>r</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>l</span><span class=o>=</span><span class=n>mid</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>numbers</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span><span class=o>&lt;</span><span class=n>numbers</span><span class=p>[</span><span class=n>r</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>r</span> <span class=o>=</span><span class=n>mid</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>r</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>numbers</span><span class=p>[</span><span class=n>l</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=53><li>数字在排序数组中出现的次数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>search</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>],</span> <span class=n>target</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>find_r</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=n>target</span><span class=p>)</span><span class=o>-&gt;</span><span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>_l</span><span class=p>,</span><span class=n>_r</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>_l</span><span class=o>&lt;=</span><span class=n>_r</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>_l</span><span class=o>+</span><span class=n>_r</span><span class=p>)</span><span class=o>//</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>_l</span> <span class=o>=</span> <span class=n>m</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>_r</span> <span class=o>=</span> <span class=n>m</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>_l</span>
</span></span><span class=line><span class=cl>        <span class=n>r</span> <span class=o>=</span> <span class=n>find_r</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=n>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>r_pre</span> <span class=o>=</span> <span class=n>find_r</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span><span class=n>target</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>  <span class=n>r</span> <span class=o>-</span> <span class=n>r_pre</span> </span></span></code></pre></div></div><h3 id=分治>分治</h3><ul><li><ol start=16><li>数值的整数次方</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>myPow</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span> <span class=c1># 1/x^{-n}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=mi>1</span><span class=o>/</span><span class=bp>self</span><span class=o>.</span><span class=n>myPow</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=o>-</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>n</span> <span class=o>&amp;</span> <span class=mi>1</span><span class=p>:</span> <span class=c1># odd: x∗x^(n−1)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>myPow</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span> <span class=c1># even x^2*(n/2)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>myPow</span><span class=p>(</span><span class=n>x</span><span class=o>*</span><span class=n>x</span><span class=p>,</span> <span class=n>n</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span></span></span></code></pre></div></div><h3 id=搜索>搜索</h3><ul><li><ol start=12><li>矩阵中的路径</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exist</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>board</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]],</span> <span class=n>word</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># S0:check None</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>board</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span><span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span>  <span class=o>=</span><span class=nb>len</span><span class=p>(</span><span class=n>board</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>col</span>  <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>board</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=c1># S1:def dfs and backtracking</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>_i</span><span class=p>,</span><span class=n>_j</span><span class=p>,</span><span class=n>k</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=mi>0</span><span class=o>&lt;=</span><span class=n>_i</span><span class=o>&lt;</span><span class=n>row</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=p>(</span><span class=mi>0</span><span class=o>&lt;=</span><span class=n>_j</span><span class=o>&lt;</span><span class=n>col</span><span class=p>)</span> <span class=ow>or</span> <span class=n>board</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span><span class=o>!=</span><span class=n>word</span><span class=p>[</span><span class=n>k</span><span class=p>]:</span> <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=c1># S2: True condition</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>word</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>:</span><span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=c1># S1</span>
</span></span><span class=line><span class=cl>            <span class=n>board</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span> <span class=o>=</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>_i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>_j</span><span class=p>,</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=ow>or</span> <span class=n>dfs</span><span class=p>(</span><span class=n>_i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>_j</span><span class=p>,</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=ow>or</span> <span class=n>dfs</span><span class=p>(</span><span class=n>_i</span><span class=p>,</span> <span class=n>_j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=ow>or</span> <span class=n>dfs</span><span class=p>(</span><span class=n>_i</span><span class=p>,</span> <span class=n>_j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># S1</span>
</span></span><span class=line><span class=cl>            <span class=n>board</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span><span class=o>=</span><span class=n>word</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># S4 for to call dfs</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>row</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>_j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>col</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>dfs</span><span class=p>(</span><span class=n>_i</span><span class=p>,</span><span class=n>_j</span><span class=p>,</span><span class=mi>0</span><span class=p>):</span><span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span></span></span></code></pre></div></div><ul><li><ol start=13><li>机器人的运动范围</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>movingCount</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>m</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>visited</span> <span class=o>=</span> <span class=p>[[</span><span class=kc>False</span><span class=p>]</span><span class=o>*</span><span class=n>n</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>m</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>res</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=mi>0</span><span class=o>&lt;=</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=p>(</span><span class=mi>0</span><span class=o>&lt;=</span><span class=n>j</span><span class=o>&lt;</span><span class=n>n</span><span class=p>)</span> <span class=ow>or</span> <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=ow>or</span> <span class=p>(</span><span class=n>i</span><span class=o>//</span><span class=mi>10</span><span class=o>+</span><span class=n>i</span><span class=o>%</span><span class=mi>10</span><span class=o>+</span><span class=n>j</span><span class=o>//</span><span class=mi>10</span><span class=o>+</span><span class=n>j</span><span class=o>%</span><span class=mi>10</span><span class=o>&gt;</span><span class=n>k</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>res</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1>#visited[i][j] = False</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>res</span></span></span></code></pre></div></div><ul><li><ol start=38><li>字符串的排列</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>permutation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=p>,</span> <span class=n>res</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>s</span><span class=p>),</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>c</span><span class=p>))</span>   <span class=c1># 添加排列方案</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=n>dic</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>c</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span> <span class=k>continue</span> <span class=c1># 重复，因此剪枝</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>x</span><span class=p>]</span> <span class=o>=</span> <span class=n>c</span><span class=p>[</span><span class=n>x</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># 交换，将 c[i] 固定在第 x 位</span>
</span></span><span class=line><span class=cl>                <span class=n>dfs</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>               <span class=c1># 开启固定第 x + 1 位字符</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>x</span><span class=p>]</span> <span class=o>=</span> <span class=n>c</span><span class=p>[</span><span class=n>x</span><span class=p>],</span> <span class=n>c</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># 恢复交换</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><h3 id=排序>排序</h3><ul><li><ol start=21><li>调整数组顺序使奇数位于偶数前面</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exchange</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1>#2 points</span>
</span></span><span class=line><span class=cl>        <span class=n>_i</span><span class=p>,</span><span class=n>_j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>_i</span><span class=o>&lt;</span><span class=n>_j</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#_i+=1</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>_i</span><span class=o>&lt;</span><span class=n>_j</span> <span class=ow>and</span> <span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span><span class=n>_i</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=c1>#_j-=1</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>_i</span><span class=o>&lt;</span><span class=n>_j</span> <span class=ow>and</span> <span class=n>nums</span><span class=p>[</span><span class=n>_j</span><span class=p>]</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span><span class=n>_j</span><span class=o>-=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=c1>#swap</span>
</span></span><span class=line><span class=cl>            <span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>],</span><span class=n>nums</span><span class=p>[</span><span class=n>_j</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>_j</span><span class=p>],</span><span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>nums</span></span></span></code></pre></div></div><ul><li><ol start=45><li>把数组排成最小的数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>minNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>quick_sort</span><span class=p>(</span><span class=n>l</span> <span class=p>,</span> <span class=n>r</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>l</span> <span class=o>&gt;=</span> <span class=n>r</span><span class=p>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl>            <span class=c1># left &amp; right point</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=n>l</span><span class=p>,</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>j</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=n>strs</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>+</span> <span class=n>strs</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=ow>and</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>j</span><span class=p>:</span> <span class=n>j</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>+</span> <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=ow>and</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>j</span><span class=p>:</span> <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>strs</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>strs</span><span class=p>[</span><span class=n>j</span><span class=p>],</span> <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>=</span> <span class=n>strs</span><span class=p>[</span><span class=n>l</span><span class=p>],</span> <span class=n>strs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>quick_sort</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>quick_sort</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>strs</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>quick_sort</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>strs</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>strs</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=51><li>数组中的逆序对</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reversePairs</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>merge_sort</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>r</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># 终止条件</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>l</span> <span class=o>&gt;=</span> <span class=n>r</span><span class=p>:</span> <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=c1># 递归划分</span>
</span></span><span class=line><span class=cl>            <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>l</span> <span class=o>+</span> <span class=n>r</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=n>merge_sort</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>m</span><span class=p>)</span> <span class=o>+</span> <span class=n>merge_sort</span><span class=p>(</span><span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># 合并阶段</span>
</span></span><span class=line><span class=cl>            <span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=n>l</span><span class=p>,</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>tmp</span><span class=p>[</span><span class=n>l</span><span class=p>:</span><span class=n>r</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>l</span><span class=p>:</span><span class=n>r</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=n>r</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                    <span class=n>j</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>elif</span> <span class=n>j</span> <span class=o>==</span> <span class=n>r</span> <span class=o>+</span> <span class=mi>1</span> <span class=ow>or</span> <span class=n>tmp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>tmp</span><span class=p>[</span><span class=n>j</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                    <span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                    <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                    <span class=n>j</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                    <span class=n>res</span> <span class=o>+=</span> <span class=n>m</span> <span class=o>-</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span> <span class=c1># 统计逆序对</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>tmp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>merge_sort</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span></span></span></code></pre></div></div><h3 id=动态规划>动态规划</h3><ul><li>10.1 斐波那契数列</li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1>#S0: </span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span><span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span><span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=c1>#S1: Def dp is line or matrix and identify parameter </span>
</span></span><span class=line><span class=cl>        <span class=c1>#S3: Init dp</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=p>(</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=c1># S4: Decide loop wany</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># S2: Recurrence Formula</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>%</span> <span class=mi>1000000007</span></span></span></code></pre></div></div><ul><li>10.2 矩形覆盖</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li>10.3 跳台阶</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>numWays</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1,1,2,3,5</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>           <span class=n>dp</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>%</span> <span class=mi>1000000007</span></span></span></code></pre></div></div><ul><li>10.4 变态跳台阶</li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python></code></pre></div></div><ul><li><ol start=42><li>连续子数组的最大和</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxSubArray</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># use dp</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1.def dp and def n means</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 3.init dp</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=c1># 4.decide loop</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># 2.Recurrence Formula</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>:</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=c1># 5.decide return</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>max</span><span class=p>(</span><span class=n>dp</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=47><li>礼物的最大价值</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxValue</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>grid</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># DP</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>grid</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span><span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print(grid)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1.def dp</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>grid</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>col</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=o>=</span><span class=p>[[</span><span class=mi>0</span><span class=p>]</span><span class=o>*</span><span class=n>col</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>row</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 3.init dp</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>row</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=o>+</span><span class=n>grid</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>col</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>_j</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print(dp)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 4.decide loop</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>row</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>_j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>col</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=c1># 2.recurrence formula</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=n>_j</span><span class=p>]</span><span class=o>+</span><span class=n>grid</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>],</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>grid</span><span class=p>[</span><span class=n>_i</span><span class=p>][</span><span class=n>_j</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print(dp)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 5. decide return</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=48><li>最长不含重复字符的子字符串</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>lengthOfLongestSubstring</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>s</span><span class=p>:</span><span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span> <span class=o>=</span><span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=c1>#1.def dp [] and i means</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>*</span><span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=c1>#3.init dp</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span><span class=p>[</span><span class=n>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span><span class=o>=</span><span class=mi>0</span> <span class=c1># init dic</span>
</span></span><span class=line><span class=cl>        <span class=c1>#4.def loop</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#2.recurrence formula</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span> <span class=c1># char not repeat</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>_repeat</span> <span class=o>=</span> <span class=n>dic</span><span class=p>[</span><span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=p>]]</span> <span class=c1>#char repeat then compare pre,cur interval</span>
</span></span><span class=line><span class=cl>                <span class=n>cur_interval</span> <span class=o>=</span> <span class=n>_i</span><span class=o>-</span><span class=n>_repeat</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=mi>1</span> <span class=k>if</span> <span class=n>cur_interval</span><span class=o>&gt;</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=k>else</span> <span class=n>cur_interval</span>
</span></span><span class=line><span class=cl>            <span class=n>dic</span><span class=p>[</span><span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=p>]]</span> <span class=o>=</span> <span class=n>_i</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span> <span class=o>=</span><span class=nb>max</span><span class=p>(</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>],</span><span class=n>ans</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># return</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li><ol start=49><li>丑数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>nthUglyNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1>#1.def dp and i means</span>
</span></span><span class=line><span class=cl>        <span class=c1>#2.recurrence formula</span>
</span></span><span class=line><span class=cl>        <span class=c1>#3.init dp</span>
</span></span><span class=line><span class=cl>        <span class=c1>#4.decide loop</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=n>_a</span><span class=p>,</span> <span class=n>_b</span><span class=p>,</span> <span class=n>_c</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>n2</span><span class=p>,</span> <span class=n>n3</span><span class=p>,</span> <span class=n>n5</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_a</span><span class=p>]</span> <span class=o>*</span> <span class=mi>2</span><span class=p>,</span> <span class=n>dp</span><span class=p>[</span><span class=n>_b</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span><span class=p>,</span> <span class=n>dp</span><span class=p>[</span><span class=n>_c</span><span class=p>]</span> <span class=o>*</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>            <span class=c1># dp[i] = min(dp[a]*2,dp[b]*3,dp[c]*5) three points</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>n2</span><span class=p>,</span> <span class=n>n3</span><span class=p>,</span> <span class=n>n5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>==</span> <span class=n>n2</span><span class=p>:</span> <span class=n>_a</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>==</span> <span class=n>n3</span><span class=p>:</span> <span class=n>_b</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>==</span> <span class=n>n5</span><span class=p>:</span> <span class=n>_c</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=60><li>n 个骰子的点数</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>dicesProbability</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>float</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span> <span class=o>/</span> <span class=mi>6</span><span class=p>]</span> <span class=o>*</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>tmp</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=p>(</span><span class=mi>5</span> <span class=o>*</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>dp</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>6</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=n>tmp</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=n>k</span><span class=p>]</span> <span class=o>+=</span> <span class=n>dp</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>/</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span> <span class=o>=</span> <span class=n>tmp</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span></span></span></code></pre></div></div><ul><li><ol start=66><li>构建乘积数组</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>constructArr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># def varible</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># loop</span>
</span></span><span class=line><span class=cl>        <span class=n>tmp</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>tmp</span>
</span></span><span class=line><span class=cl>            <span class=n>tmp</span> <span class=o>*=</span> <span class=n>a</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=c1>#print(res)</span>
</span></span><span class=line><span class=cl>        <span class=c1># reversed loop</span>
</span></span><span class=line><span class=cl>        <span class=n>tmp</span> <span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_j</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span><span class=p>[</span><span class=n>_j</span><span class=p>]</span> <span class=o>*=</span> <span class=n>tmp</span> 
</span></span><span class=line><span class=cl>            <span class=n>tmp</span> <span class=o>*=</span> <span class=n>a</span><span class=p>[</span><span class=n>_j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=c1>#print(res)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><h3 id=数学>数学</h3><ul><li><ol start=39><li>数组中出现次数超过一半的数字</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>majorityElement</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>//</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span><span class=mi>1</span><span class=p>:</span> <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>num</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span><span class=o>&gt;=</span><span class=n>n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>num</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span></span></span></code></pre></div></div><ul><li><ol start=62><li>圆圈中最后剩下的数</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>lastRemaining</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>m</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span> <span class=o>=</span> <span class=p>(</span><span class=n>ans</span><span class=o>+</span><span class=n>m</span><span class=p>)</span> <span class=o>%</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><ul><li><ol start=43><li>从 1 到 n 整数中 1 出现的次数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>countDigitOne</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>digit</span><span class=p>,</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>high</span><span class=p>,</span> <span class=n>cur</span><span class=p>,</span> <span class=n>low</span> <span class=o>=</span> <span class=n>n</span> <span class=o>//</span> <span class=mi>10</span><span class=p>,</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>high</span> <span class=o>!=</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>cur</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>cur</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span> <span class=n>res</span> <span class=o>+=</span> <span class=n>high</span> <span class=o>*</span> <span class=n>digit</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>cur</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span> <span class=n>res</span> <span class=o>+=</span> <span class=n>high</span> <span class=o>*</span> <span class=n>digit</span> <span class=o>+</span> <span class=n>low</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span> <span class=n>res</span> <span class=o>+=</span> <span class=p>(</span><span class=n>high</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>digit</span>
</span></span><span class=line><span class=cl>            <span class=n>low</span> <span class=o>+=</span> <span class=n>cur</span> <span class=o>*</span> <span class=n>digit</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span> <span class=o>=</span> <span class=n>high</span> <span class=o>%</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=n>high</span> <span class=o>//=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=n>digit</span> <span class=o>*=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><h3 id=位运算>位运算</h3><ul><li><ol start=15><li>二进制中 1 的个数</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>hammingWeight</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span><span class=o>+=</span> <span class=n>n</span><span class=o>&amp;</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>n</span><span class=o>&gt;&gt;=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><ul><li><ol start=56><li>数组中只出现一次的数字</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>singleNumbers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>dic</span><span class=p>,</span><span class=n>ans</span> <span class=o>=</span> <span class=p>{},[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>num</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span> <span class=o>=</span><span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dic</span><span class=p>[</span><span class=n>num</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>k</span><span class=p>,</span><span class=n>v</span> <span class=ow>in</span> <span class=n>dic</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>v</span><span class=p>:</span> <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span></span></span></code></pre></div></div><h3 id=其它>其它</h3><ul><li><ol start=17><li>打印从 1 到最大的 n 位数</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>printNumbers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>10</span><span class=o>**</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span></span></span></code></pre></div></div><ul><li><ol start=19><li>正则表达式匹配</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isMatch</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>p</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>m</span><span class=p>,</span> <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>p</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span> <span class=p>[[</span><span class=kc>False</span><span class=p>]</span> <span class=o>*</span> <span class=n>n</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>m</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=c1># 初始化首行</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]</span> <span class=ow>and</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;*&#39;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 状态转移</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>m</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;*&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]:</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>                              <span class=c1># 1.</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=ow>and</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]:</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>   <span class=c1># 2.</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=ow>and</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>2</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>        <span class=c1># 3.</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=ow>and</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]:</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span> <span class=c1># 1.</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=ow>and</span> <span class=n>p</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span> <span class=n>dp</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>    <span class=c1># 2.</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=20><li>表示数值的字符串</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>states</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;s&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span> <span class=mi>4</span> <span class=p>},</span> <span class=c1># 0. start with &#39;blank&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span> <span class=mi>4</span> <span class=p>}</span> <span class=p>,</span>                <span class=c1># 1. &#39;sign&#39; before &#39;e&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;e&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=mi>8</span> <span class=p>},</span> <span class=c1># 2. &#39;digit&#39; before &#39;dot&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;e&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=mi>8</span> <span class=p>},</span>         <span class=c1># 3. &#39;digit&#39; after &#39;dot&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>3</span> <span class=p>},</span>                         <span class=c1># 4. &#39;digit&#39; after &#39;dot&#39; (‘blank’ before &#39;dot&#39;)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;s&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>7</span> <span class=p>},</span>                 <span class=c1># 5. &#39;e&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>7</span> <span class=p>},</span>                         <span class=c1># 6. &#39;sign&#39; after &#39;e&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>7</span><span class=p>,</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=mi>8</span> <span class=p>},</span>                 <span class=c1># 7. &#39;digit&#39; after &#39;e&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s1>&#39; &#39;</span><span class=p>:</span> <span class=mi>8</span> <span class=p>}</span>                          <span class=c1># 8. end with &#39;blank&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>p</span> <span class=o>=</span> <span class=mi>0</span>                           <span class=c1># start with state 0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=s1>&#39;0&#39;</span> <span class=o>&lt;=</span> <span class=n>c</span> <span class=o>&lt;=</span> <span class=s1>&#39;9&#39;</span><span class=p>:</span> <span class=n>t</span> <span class=o>=</span> <span class=s1>&#39;d&#39;</span> <span class=c1># digit</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>c</span> <span class=ow>in</span> <span class=s2>&#34;+-&#34;</span><span class=p>:</span> <span class=n>t</span> <span class=o>=</span> <span class=s1>&#39;s&#39;</span>     <span class=c1># sign</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>c</span> <span class=ow>in</span> <span class=s2>&#34;eE&#34;</span><span class=p>:</span> <span class=n>t</span> <span class=o>=</span> <span class=s1>&#39;e&#39;</span>     <span class=c1># e or E</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>c</span> <span class=ow>in</span> <span class=s2>&#34;. &#34;</span><span class=p>:</span> <span class=n>t</span> <span class=o>=</span> <span class=n>c</span>       <span class=c1># dot, blank</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span> <span class=n>t</span> <span class=o>=</span> <span class=s1>&#39;?&#39;</span>               <span class=c1># unknown</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>t</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>states</span><span class=p>[</span><span class=n>p</span><span class=p>]:</span> <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=n>p</span> <span class=o>=</span> <span class=n>states</span><span class=p>[</span><span class=n>p</span><span class=p>][</span><span class=n>t</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>p</span> <span class=ow>in</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=44><li>数字序列中的某一位数字</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>findNthDigit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>digit</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>n</span> <span class=o>&gt;</span> <span class=n>count</span><span class=p>:</span> <span class=c1># 1.</span>
</span></span><span class=line><span class=cl>            <span class=n>n</span> <span class=o>-=</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>*=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=n>digit</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>count</span> <span class=o>=</span> <span class=mi>9</span> <span class=o>*</span> <span class=n>start</span> <span class=o>*</span> <span class=n>digit</span>
</span></span><span class=line><span class=cl>        <span class=n>num</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>//</span> <span class=n>digit</span> <span class=c1># 2.</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>num</span><span class=p>)[(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>digit</span><span class=p>])</span> <span class=c1># 3.</span></span></span></code></pre></div></div><ul><li><ol start=46><li>把数字翻译成字符串</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>translateNum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>num</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1.def dp</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>:</span><span class=k>return</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span> <span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>*</span><span class=p>(</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 3.init dp</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>dp</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=c1># 4.decide loop</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>_i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=n>n</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 2.recurrence formula</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=s1>&#39;10&#39;</span><span class=o>&lt;=</span><span class=n>s</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>2</span><span class=p>:</span><span class=n>_i</span><span class=p>]</span><span class=o>&lt;=</span><span class=s1>&#39;25&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span> <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>                
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=p>]</span> <span class=o>=</span><span class=n>dp</span><span class=p>[</span><span class=n>_i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=c1># 5.return</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dp</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span></span></span></code></pre></div></div><ul><li><ol start=61><li>扑克牌顺子</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>isStraight</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>repeat</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>ma</span><span class=p>,</span> <span class=n>mi</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>14</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>num</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span> <span class=k>continue</span> <span class=c1># 跳过大小王</span>
</span></span><span class=line><span class=cl>            <span class=n>ma</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>ma</span><span class=p>,</span> <span class=n>num</span><span class=p>)</span> <span class=c1># 最大牌</span>
</span></span><span class=line><span class=cl>            <span class=n>mi</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>mi</span><span class=p>,</span> <span class=n>num</span><span class=p>)</span> <span class=c1># 最小牌</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>repeat</span><span class=p>:</span> <span class=k>return</span> <span class=kc>False</span> <span class=c1># 若有重复，提前返回 false</span>
</span></span><span class=line><span class=cl>            <span class=n>repeat</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>num</span><span class=p>)</span> <span class=c1># 添加牌至 Set</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ma</span> <span class=o>-</span> <span class=n>mi</span> <span class=o>&lt;</span> <span class=mi>5</span> <span class=c1># 最大牌 - 最小牌 &lt; 5 则可构成顺子</span></span></span></code></pre></div></div><ul><li><ol start=64><li>求 1+2+3+&mldr;+n</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># recurion</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sumNums</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># sum = 0</span>
</span></span><span class=line><span class=cl>        <span class=n>sum_n</span><span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>rcur</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>=</span> <span class=n>rcur</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># regression</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>sum_n</span>
</span></span><span class=line><span class=cl>            <span class=n>sum_n</span><span class=o>+=</span><span class=n>r</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=n>rcur</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># add n</span>
</span></span><span class=line><span class=cl>        <span class=n>sum_n</span><span class=o>=</span><span class=n>sum_n</span><span class=o>+</span><span class=n>n</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>sum_n</span></span></span></code></pre></div></div><ul><li><ol start=65><li>不用加减乘除做加法</li></ol></li></ul><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=mh>0xffffffff</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>a</span> <span class=o>&amp;</span> <span class=n>x</span><span class=p>,</span> <span class=n>b</span> <span class=o>&amp;</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>b</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=p>(</span><span class=n>a</span> <span class=o>^</span> <span class=n>b</span><span class=p>),</span> <span class=p>(</span><span class=n>a</span> <span class=o>&amp;</span> <span class=n>b</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span> <span class=o>&amp;</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>a</span> <span class=k>if</span> <span class=n>a</span> <span class=o>&lt;=</span> <span class=mh>0x7fffffff</span> <span class=k>else</span> <span class=o>~</span><span class=p>(</span><span class=n>a</span> <span class=o>^</span> <span class=n>x</span><span class=p>)</span></span></span></code></pre></div></div><ul><li><ol start=67><li>把字符串转换成整数</li></ol></li></ul><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-python"><span class=code-title><i class="arrow fas fa-chevron-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>strToInt</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>str</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>int_max</span><span class=p>,</span> <span class=n>int_min</span> <span class=o>=</span> <span class=mi>2</span><span class=o>**</span><span class=mi>31</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=o>**</span><span class=mi>31</span>
</span></span><span class=line><span class=cl>        <span class=nb>str</span> <span class=o>=</span> <span class=nb>str</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>state</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;t&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>},</span> <span class=c1>#0起始状态</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;t&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>},</span> <span class=c1>#1符号状态</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;t&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>},</span> <span class=c1>#2数字状态</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s1>&#39;s&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;t&#39;</span><span class=p>:</span><span class=mi>3</span><span class=p>}</span>  <span class=c1>#3终止状态</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>cur</span><span class=p>,</span> <span class=n>res</span><span class=p>,</span> <span class=n>flag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=ow>in</span> <span class=s1>&#39;+-&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span> <span class=o>=</span> <span class=s1>&#39;s&#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>i</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span> <span class=o>=</span> <span class=s1>&#39;d&#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>c</span> <span class=o>=</span> <span class=s1>&#39;t&#39;</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span> <span class=o>=</span> <span class=n>state</span><span class=p>[</span><span class=n>cur</span><span class=p>][</span><span class=n>c</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>cur</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span> <span class=o>=</span> <span class=mi>10</span><span class=o>*</span><span class=n>res</span> <span class=o>+</span> <span class=nb>ord</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=o>-</span> <span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;0&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>int_max</span><span class=p>,</span> <span class=n>res</span><span class=p>)</span> <span class=k>if</span> <span class=n>flag</span> <span class=o>==</span> <span class=mi>1</span> <span class=k>else</span> <span class=nb>min</span><span class=p>(</span><span class=o>-</span><span class=n>int_min</span><span class=p>,</span> <span class=n>res</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>cur</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>flag</span> <span class=o>=</span> <span class=mi>1</span> <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=s1>&#39;+&#39;</span> <span class=k>else</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=o>*</span><span class=n>flag</span> </span></span></code></pre></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2025-08-18</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 X" data-sharer=x data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python） data-hashtags=算法><i class="fab fa-x-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Threads" data-sharer=threads data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python）><i class="fab fa-threads fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://blog.gethin.online/point-offer/ data-hashtag=算法><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Hacker News" data-sharer=hackernews data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python）><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python）><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python）><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Diaspora" data-sharer=diaspora data-url=https://blog.gethin.online/point-offer/ data-title=剑指Offer（python） data-description><i class="fab fa-diaspora fa-fw" aria-hidden=true></i></a><a href="https://t.me/share/url?url=https%3a%2f%2fblog.gethin.online%2fpoint-offer%2f&amp;text=%e5%89%91%e6%8c%87Offer%ef%bc%88python%ef%bc%89" target=_blank title="分享到 Telegram"><i class="fab fa-telegram fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/8-models/ class=prev rel=prev title=8种模型><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>8种模型</a>
<a href=/options-trading-beginners-guide-1/ class=next rel=next title=期权交易入门指南1>期权交易入门指南1<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=gitalk class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://github.com/gitalk/gitalk>Gitalk</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><span id=timeDate>运行 time 天&nbsp;|&nbsp;</span>
<script>var now=new Date;function createtime(){var e,t=new Date("05/05/2021 00:00:00");now.setTime(now.getTime()+250),days=(now-t)/1e3/60/60/24,dnum=Math.floor(days),e=document.getElementById("timeDate").innerHTML.replace(/time/,Math.floor(days)),document.getElementById("timeDate").innerHTML=e}createtime()</script>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>格心</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=/css/_custom.scss><script src=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js></script><script src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js></script><script src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><script src=/js/jquery.backstretch.min.js></script><script src=/js/dayjs.min.js></script><script src=/js/custom.js></script><script>window.config={comment:{gitalk:{admin:["Gethin1990"],clientID:"4743974d0c1165efbf05",clientSecret:"94543d55ec4241197bf2029c5167870e9185d619",id:"2022-04-06T16:22:27+08:00",owner:"Gethin1990",repo:"gsblogtalk",title:"剑指Offer（python）"}},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"MFVMILWR8Y",algoliaIndex:"gethin_blog",algoliaSearchKey:"9116370b412bf8b2f2adaf656612f599",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},twemoji:!0}</script><script src=/js/theme.min.js></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FFRV57P35K")}</script><script src="https://www.googletagmanager.com/gtag/js?id=G-FFRV57P35K" async></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?67eb34015166e2e77745ce46dd823cb7",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></body></html>